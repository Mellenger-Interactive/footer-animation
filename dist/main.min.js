function _mergeNamespaces(e,t){for(var n=0;n<t.length;n++){const o=t[n];if("string"!=typeof o&&!Array.isArray(o))for(const t in o)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(o,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>o[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function asyncGeneratorStep(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){asyncGeneratorStep(i,o,r,a,s,"next",e)}function s(e){asyncGeneratorStep(i,o,r,a,s,"throw",e)}a(void 0)}))}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),s=new I(o||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",d="suspendedYield",y="executing",g="completed",v={};function m(){}function h(){}function x(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(E([])));S&&S!==n&&o.call(S,a)&&(b=S);var A=x.prototype=m.prototype=Object.create(b);function P(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(r,i,a,s){var l=p(e[r],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,o){function r(){return new t((function(t,r){n(e,o,t,r)}))}return i=i?i.then(r,r):r()}})}function _(t,n,o){var r=f;return function(i,a){if(r===y)throw Error("Generator is already running");if(r===g){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var l=C(s,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===f)throw r=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=y;var c=p(t,n,o);if("normal"===c.type){if(r=o.done?g:d,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=g,o.method="throw",o.arg=c.arg)}}}function C(t,n){var o=n.method,r=t.iterator[o];if(r===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=p(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function E(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return h.prototype=x,r(A,"constructor",{value:x,configurable:!0}),r(x,"constructor",{value:h,configurable:!0}),h.displayName=c(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,c(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},P(M.prototype),c(M.prototype,s,(function(){return this})),t.AsyncIterator=M,t.async=function(e,n,o,r,i){void 0===i&&(i=Promise);var a=new M(u(e,n,o,r),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(A),c(A,l,"Generator"),c(A,a,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=E,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(o,r){return s.type="throw",s.arg=t,n.next=o,r&&(n.method="next",n.arg=e),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;k(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:E(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),v}},t}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var matter={exports:{}};
/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */!function(){var e;e=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){var n={};e.exports=n,function(){n._baseDelta=1e3/60,n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n._warnedOnce={},n._decomp=null,n.extend=function(e,t){var o,r;"boolean"==typeof t?(o=2,r=t):(o=1,r=!0);for(var i=o;i<arguments.length;i++){var a=arguments[i];if(a)for(var s in a)r&&a[s]&&a[s].constructor===Object?e[s]&&e[s].constructor!==Object?e[s]=a[s]:(e[s]=e[s]||{},n.extend(e[s],r,a[s])):e[s]=a[s]}return e},n.clone=function(e,t){return n.extend({},t,e)},n.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},n.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),o=0;o<n.length;o++)t.push(e[n[o]]);return t}for(var r in e)t.push(e[r]);return t},n.get=function(e,t,n,o){t=t.split(".").slice(n,o);for(var r=0;r<t.length;r+=1)e=e[t[r]];return e},n.set=function(e,t,o,r,i){var a=t.split(".").slice(r,i);return n.get(e,t,0,-1)[a[a.length-1]]=o,o},n.shuffle=function(e){for(var t=e.length-1;t>0;t--){var o=Math.floor(n.random()*(t+1)),r=e[t];e[t]=e[o],e[o]=r}return e},n.choose=function(e){return e[Math.floor(n.random()*e.length)]},n.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.isFunction=function(e){return"function"==typeof e},n.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},n.isString=function(e){return"[object String]"===toString.call(e)},n.clamp=function(e,t,n){return e<t?t:e>n?n:e},n.sign=function(e){return e<0?-1:1},n.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-n._nowStartTime},n.random=function(t,n){return n=void 0!==n?n:1,(t=void 0!==t?t:0)+e()*(n-t)};var e=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");n._warnedOnce[e]||(n.warn(e),n._warnedOnce[e]=!0)},n.deprecated=function(e,t,o){e[t]=n.chain((function(){n.warnOnce("🔅 deprecated 🔅",o)}),e[t])},n.nextId=function(){return n._nextId++},n.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.map=function(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o+=1)n.push(t(e[o]));return n},n.topologicalSort=function(e){var t=[],o=[],r=[];for(var i in e)o[i]||r[i]||n._topologicalSort(i,o,r,e,t);return t},n._topologicalSort=function(e,t,o,r,i){var a=r[e]||[];o[e]=!0;for(var s=0;s<a.length;s+=1){var l=a[s];o[l]||t[l]||n._topologicalSort(l,t,o,r,i)}o[e]=!1,t[e]=!0,i.push(e)},n.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var o=function(){for(var t,n=new Array(arguments.length),o=0,r=arguments.length;o<r;o++)n[o]=arguments[o];for(o=0;o<e.length;o+=1){var i=e[o].apply(t,n);void 0!==i&&(t=i)}return t};return o._chained=e,o},n.chainPathBefore=function(e,t,o){return n.set(e,t,n.chain(o,n.get(e,t)))},n.chainPathAfter=function(e,t,o){return n.set(e,t,n.chain(n.get(e,t),o))},n.setDecomp=function(e){n._decomp=e},n.getDecomp=function(){var e=n._decomp;try{e||"undefined"==typeof window||(e=window.decomp),e||void 0===commonjsGlobal||(e=commonjsGlobal.decomp)}catch(t){e=null}return e}}()},function(e,t){var n={};e.exports=n,n.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&n.update(t,e),t},n.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var o=0;o<t.length;o++){var r=t[o];r.x>e.max.x&&(e.max.x=r.x),r.x<e.min.x&&(e.min.x=r.x),r.y>e.max.y&&(e.max.y=r.y),r.y<e.min.y&&(e.min.y=r.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},n.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},n.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},n.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},n.shift=function(e,t){var n=e.max.x-e.min.x,o=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+o}},function(e,t){var n={};e.exports=n,n.create=function(e,t){return{x:e||0,y:t||0}},n.clone=function(e){return{x:e.x,y:e.y}},n.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},n.rotate=function(e,t,n){var o=Math.cos(t),r=Math.sin(t);n||(n={});var i=e.x*o-e.y*r;return n.y=e.x*r+e.y*o,n.x=i,n},n.rotateAbout=function(e,t,n,o){var r=Math.cos(t),i=Math.sin(t);o||(o={});var a=n.x+((e.x-n.x)*r-(e.y-n.y)*i);return o.y=n.y+((e.x-n.x)*i+(e.y-n.y)*r),o.x=a,o},n.normalise=function(e){var t=n.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.cross=function(e,t){return e.x*t.y-e.y*t.x},n.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},n.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},n.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},n.mult=function(e,t){return{x:e.x*t,y:e.y*t}},n.div=function(e,t){return{x:e.x/t,y:e.y/t}},n.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},n.neg=function(e){return{x:-e.x,y:-e.y}},n.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(e,t,n){var o={};e.exports=o;var r=n(2),i=n(0);o.create=function(e,t){for(var n=[],o=0;o<e.length;o++){var r=e[o],i={x:r.x,y:r.y,index:o,body:t,isInternal:!1};n.push(i)}return n},o.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(e,t,o){n.push({x:parseFloat(t),y:parseFloat(o)})})),o.create(n,t)},o.centre=function(e){for(var t,n,i,a=o.area(e,!0),s={x:0,y:0},l=0;l<e.length;l++)i=(l+1)%e.length,t=r.cross(e[l],e[i]),n=r.mult(r.add(e[l],e[i]),t),s=r.add(s,n);return r.div(s,6*a)},o.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return r.div(t,e.length)},o.area=function(e,t){for(var n=0,o=e.length-1,r=0;r<e.length;r++)n+=(e[o].x-e[r].x)*(e[o].y+e[r].y),o=r;return t?n/2:Math.abs(n)/2},o.inertia=function(e,t){for(var n,o,i=0,a=0,s=e,l=0;l<s.length;l++)o=(l+1)%s.length,i+=(n=Math.abs(r.cross(s[o],s[l])))*(r.dot(s[o],s[o])+r.dot(s[o],s[l])+r.dot(s[l],s[l])),a+=n;return t/6*(i/a)},o.translate=function(e,t,n){n=void 0!==n?n:1;var o,r=e.length,i=t.x*n,a=t.y*n;for(o=0;o<r;o++)e[o].x+=i,e[o].y+=a;return e},o.rotate=function(e,t,n){if(0!==t){var o,r,i,a,s=Math.cos(t),l=Math.sin(t),c=n.x,u=n.y,p=e.length;for(a=0;a<p;a++)r=(o=e[a]).x-c,i=o.y-u,o.x=c+(r*s-i*l),o.y=u+(r*l+i*s);return e}},o.contains=function(e,t){for(var n,o=t.x,r=t.y,i=e.length,a=e[i-1],s=0;s<i;s++){if(n=e[s],(o-a.x)*(n.y-a.y)+(r-a.y)*(a.x-n.x)>0)return!1;a=n}return!0},o.scale=function(e,t,n,i){if(1===t&&1===n)return e;var a,s;i=i||o.centre(e);for(var l=0;l<e.length;l++)a=e[l],s=r.sub(a,i),e[l].x=i.x+s.x*t,e[l].y=i.y+s.y*n;return e},o.chamfer=function(e,t,n,o,a){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,o=o||2,a=a||14;for(var s=[],l=0;l<e.length;l++){var c=e[l-1>=0?l-1:e.length-1],u=e[l],p=e[(l+1)%e.length],f=t[l<t.length?l:t.length-1];if(0!==f){var d=r.normalise({x:u.y-c.y,y:c.x-u.x}),y=r.normalise({x:p.y-u.y,y:u.x-p.x}),g=Math.sqrt(2*Math.pow(f,2)),v=r.mult(i.clone(d),f),m=r.normalise(r.mult(r.add(d,y),.5)),h=r.sub(u,r.mult(m,g)),x=n;-1===n&&(x=1.75*Math.pow(f,.32)),(x=i.clamp(x,o,a))%2==1&&(x+=1);for(var b=Math.acos(r.dot(d,y))/x,w=0;w<x;w++)s.push(r.add(r.rotate(v,b*w),h))}else s.push(u)}return s},o.clockwiseSort=function(e){var t=o.mean(e);return e.sort((function(e,n){return r.angle(t,e)-r.angle(t,n)})),e},o.isConvex=function(e){var t,n,o,r,i=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(o=(t+2)%a,r=(e[n=(t+1)%a].x-e[t].x)*(e[o].y-e[n].y),(r-=(e[n].y-e[t].y)*(e[o].x-e[n].x))<0?i|=1:r>0&&(i|=2),3===i)return!1;return 0!==i||null},o.hull=function(e){var t,n,o=[],i=[];for((e=e.slice(0)).sort((function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y})),n=0;n<e.length;n+=1){for(t=e[n];i.length>=2&&r.cross3(i[i.length-2],i[i.length-1],t)<=0;)i.pop();i.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];o.length>=2&&r.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}return o.pop(),i.pop(),o.concat(i)}},function(e,t,n){var o={};e.exports=o;var r=n(3),i=n(2),a=n(7),s=n(0),l=n(1),c=n(11);!function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=1e3/60,o.create=function(t){var n={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:r.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},o=s.extend(n,t);return e(o,t),o},o.nextGroup=function(e){return e?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var e=function(e,t){t=t||{},o.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||i.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),r.rotate(e.vertices,e.angle,e.position),c.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),o.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#14151f":s.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),a=e.isStatic?"#555":"#ccc",u=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||a,e.render.lineWidth=e.render.lineWidth||u,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};o.set=function(e,t,n){var r;for(r in"string"==typeof t&&(r=t,(t={})[r]=n),t)if(Object.prototype.hasOwnProperty.call(t,r))switch(n=t[r],r){case"isStatic":o.setStatic(e,n);break;case"isSleeping":a.set(e,n);break;case"mass":o.setMass(e,n);break;case"density":o.setDensity(e,n);break;case"inertia":o.setInertia(e,n);break;case"vertices":o.setVertices(e,n);break;case"position":o.setPosition(e,n);break;case"angle":o.setAngle(e,n);break;case"velocity":o.setVelocity(e,n);break;case"angularVelocity":o.setAngularVelocity(e,n);break;case"speed":o.setSpeed(e,n);break;case"angularSpeed":o.setAngularSpeed(e,n);break;case"parts":o.setParts(e,n);break;case"centre":o.setCentre(e,n);break;default:e[r]=n}},o.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var o=e.parts[n];t?(o.isStatic||(o._original={restitution:o.restitution,friction:o.friction,mass:o.mass,inertia:o.inertia,density:o.density,inverseMass:o.inverseMass,inverseInertia:o.inverseInertia}),o.restitution=0,o.friction=1,o.mass=o.inertia=o.density=1/0,o.inverseMass=o.inverseInertia=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.angularVelocity=0,o.speed=0,o.angularSpeed=0,o.motion=0):o._original&&(o.restitution=o._original.restitution,o.friction=o._original.friction,o.mass=o._original.mass,o.inertia=o._original.inertia,o.density=o._original.density,o.inverseMass=o._original.inverseMass,o.inverseInertia=o._original.inverseInertia,o._original=null),o.isStatic=t}},o.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},o.setDensity=function(e,t){o.setMass(e,t*e.area),e.density=t},o.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},o.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=r.create(t,e),e.axes=c.fromVertices(e.vertices),e.area=r.area(e.vertices),o.setMass(e,e.density*e.area);var n=r.centre(e.vertices);r.translate(e.vertices,n,-1),o.setInertia(e,o._inertiaScale*r.inertia(e.vertices,e.mass)),r.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},o.setParts=function(e,t,n){var i;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,i=0;i<t.length;i++){var a=t[i];a!==e&&(a.parent=e,e.parts.push(a))}if(1!==e.parts.length){if(n=void 0===n||n){var s=[];for(i=0;i<t.length;i++)s=s.concat(t[i].vertices);r.clockwiseSort(s);var l=r.hull(s),c=r.centre(l);o.setVertices(e,l),r.translate(e.vertices,c)}var u=o._totalProperties(e);e.area=u.area,e.parent=e,e.position.x=u.centre.x,e.position.y=u.centre.y,e.positionPrev.x=u.centre.x,e.positionPrev.y=u.centre.y,o.setMass(e,u.mass),o.setInertia(e,u.inertia),o.setPosition(e,u.centre)}},o.setCentre=function(e,t,n){n?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},o.setPosition=function(e,t,n){var o=i.sub(t,e.position);n?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=o.x,e.velocity.y=o.y,e.speed=i.magnitude(o)):(e.positionPrev.x+=o.x,e.positionPrev.y+=o.y);for(var a=0;a<e.parts.length;a++){var s=e.parts[a];s.position.x+=o.x,s.position.y+=o.y,r.translate(s.vertices,o),l.update(s.bounds,s.vertices,e.velocity)}},o.setAngle=function(e,t,n){var o=t-e.angle;n?(e.anglePrev=e.angle,e.angularVelocity=o,e.angularSpeed=Math.abs(o)):e.anglePrev+=o;for(var a=0;a<e.parts.length;a++){var s=e.parts[a];s.angle+=o,r.rotate(s.vertices,o,e.position),c.rotate(s.axes,o),l.update(s.bounds,s.vertices,e.velocity),a>0&&i.rotateAbout(s.position,o,e.position,s.position)}},o.setVelocity=function(e,t){var n=e.deltaTime/o._baseDelta;e.positionPrev.x=e.position.x-t.x*n,e.positionPrev.y=e.position.y-t.y*n,e.velocity.x=(e.position.x-e.positionPrev.x)/n,e.velocity.y=(e.position.y-e.positionPrev.y)/n,e.speed=i.magnitude(e.velocity)},o.getVelocity=function(e){var t=o._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},o.getSpeed=function(e){return i.magnitude(o.getVelocity(e))},o.setSpeed=function(e,t){o.setVelocity(e,i.mult(i.normalise(o.getVelocity(e)),t))},o.setAngularVelocity=function(e,t){var n=e.deltaTime/o._baseDelta;e.anglePrev=e.angle-t*n,e.angularVelocity=(e.angle-e.anglePrev)/n,e.angularSpeed=Math.abs(e.angularVelocity)},o.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*o._baseDelta/e.deltaTime},o.getAngularSpeed=function(e){return Math.abs(o.getAngularVelocity(e))},o.setAngularSpeed=function(e,t){o.setAngularVelocity(e,s.sign(o.getAngularVelocity(e))*t)},o.translate=function(e,t,n){o.setPosition(e,i.add(e.position,t),n)},o.rotate=function(e,t,n,r){if(n){var i=Math.cos(t),a=Math.sin(t),s=e.position.x-n.x,l=e.position.y-n.y;o.setPosition(e,{x:n.x+(s*i-l*a),y:n.y+(s*a+l*i)},r),o.setAngle(e,e.angle+t,r)}else o.setAngle(e,e.angle+t,r)},o.scale=function(e,t,n,i){var a=0,s=0;i=i||e.position;for(var u=0;u<e.parts.length;u++){var p=e.parts[u];r.scale(p.vertices,t,n,i),p.axes=c.fromVertices(p.vertices),p.area=r.area(p.vertices),o.setMass(p,e.density*p.area),r.translate(p.vertices,{x:-p.position.x,y:-p.position.y}),o.setInertia(p,o._inertiaScale*r.inertia(p.vertices,p.mass)),r.translate(p.vertices,{x:p.position.x,y:p.position.y}),u>0&&(a+=p.area,s+=p.inertia),p.position.x=i.x+(p.position.x-i.x)*t,p.position.y=i.y+(p.position.y-i.y)*n,l.update(p.bounds,p.vertices,e.velocity)}e.parts.length>1&&(e.area=a,e.isStatic||(o.setMass(e,e.density*a),o.setInertia(e,s))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},o.update=function(e,t){var n=(t=(void 0!==t?t:1e3/60)*e.timeScale)*t,a=o._timeCorrection?t/(e.deltaTime||t):1,u=1-e.frictionAir*(t/s._baseDelta),p=(e.position.x-e.positionPrev.x)*a,f=(e.position.y-e.positionPrev.y)*a;e.velocity.x=p*u+e.force.x/e.mass*n,e.velocity.y=f*u+e.force.y/e.mass*n,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*u*a+e.torque/e.inertia*n,e.anglePrev=e.angle,e.angle+=e.angularVelocity;for(var d=0;d<e.parts.length;d++){var y=e.parts[d];r.translate(y.vertices,e.velocity),d>0&&(y.position.x+=e.velocity.x,y.position.y+=e.velocity.y),0!==e.angularVelocity&&(r.rotate(y.vertices,e.angularVelocity,e.position),c.rotate(y.axes,e.angularVelocity),d>0&&i.rotateAbout(y.position,e.angularVelocity,e.position,y.position)),l.update(y.bounds,y.vertices,e.velocity)}},o.updateVelocities=function(e){var t=o._baseDelta/e.deltaTime,n=e.velocity;n.x=(e.position.x-e.positionPrev.x)*t,n.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(n.x*n.x+n.y*n.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},o.applyForce=function(e,t,n){var o=t.x-e.position.x,r=t.y-e.position.y;e.force.x+=n.x,e.force.y+=n.y,e.torque+=o*n.y-r*n.x},o._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var o=e.parts[n],r=o.mass!==1/0?o.mass:1;t.mass+=r,t.area+=o.area,t.inertia+=o.inertia,t.centre=i.add(t.centre,i.mult(o.position,r))}return t.centre=i.div(t.centre,t.mass),t}}()},function(e,t,n){var o={};e.exports=o;var r=n(0);o.on=function(e,t,n){for(var o,r=t.split(" "),i=0;i<r.length;i++)o=r[i],e.events=e.events||{},e.events[o]=e.events[o]||[],e.events[o].push(n);return n},o.off=function(e,t,n){if(t){"function"==typeof t&&(n=t,t=r.keys(e.events).join(" "));for(var o=t.split(" "),i=0;i<o.length;i++){var a=e.events[o[i]],s=[];if(n&&a)for(var l=0;l<a.length;l++)a[l]!==n&&s.push(a[l]);e.events[o[i]]=s}}else e.events={}},o.trigger=function(e,t,n){var o,i,a,s,l=e.events;if(l&&r.keys(l).length>0){n||(n={}),o=t.split(" ");for(var c=0;c<o.length;c++)if(a=l[i=o[c]]){(s=r.clone(n,!1)).name=i,s.source=e;for(var u=0;u<a.length;u++)a[u].apply(e,[s])}}}},function(e,t,n){var o={};e.exports=o;var r=n(5),i=n(0),a=n(1),s=n(4);o.create=function(e){return i.extend({id:i.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},o.setModified=function(e,t,n,r){if(e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),n&&e.parent&&o.setModified(e.parent,t,n,r),r)for(var i=0;i<e.composites.length;i++){var a=e.composites[i];o.setModified(a,t,n,r)}},o.add=function(e,t){var n=[].concat(t);r.trigger(e,"beforeAdd",{object:t});for(var a=0;a<n.length;a++){var s=n[a];switch(s.type){case"body":if(s.parent!==s){i.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,s);break;case"constraint":o.addConstraint(e,s);break;case"composite":o.addComposite(e,s);break;case"mouseConstraint":o.addConstraint(e,s.constraint)}}return r.trigger(e,"afterAdd",{object:t}),e},o.remove=function(e,t,n){var i=[].concat(t);r.trigger(e,"beforeRemove",{object:t});for(var a=0;a<i.length;a++){var s=i[a];switch(s.type){case"body":o.removeBody(e,s,n);break;case"constraint":o.removeConstraint(e,s,n);break;case"composite":o.removeComposite(e,s,n);break;case"mouseConstraint":o.removeConstraint(e,s.constraint)}}return r.trigger(e,"afterRemove",{object:t}),e},o.addComposite=function(e,t){return e.composites.push(t),t.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,t,n){var r=i.indexOf(e.composites,t);if(-1!==r){var a=o.allBodies(t);o.removeCompositeAt(e,r);for(var s=0;s<a.length;s++)a[s].sleepCounter=0}if(n)for(s=0;s<e.composites.length;s++)o.removeComposite(e.composites[s],t,!0);return e},o.removeCompositeAt=function(e,t){return e.composites.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,t){return e.bodies.push(t),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,t,n){var r=i.indexOf(e.bodies,t);if(-1!==r&&(o.removeBodyAt(e,r),t.sleepCounter=0),n)for(var a=0;a<e.composites.length;a++)o.removeBody(e.composites[a],t,!0);return e},o.removeBodyAt=function(e,t){return e.bodies.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,t){return e.constraints.push(t),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,t,n){var r=i.indexOf(e.constraints,t);if(-1!==r&&o.removeConstraintAt(e,r),n)for(var a=0;a<e.composites.length;a++)o.removeConstraint(e.composites[a],t,!0);return e},o.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,t,n){if(n)for(var r=0;r<e.composites.length;r++)o.clear(e.composites[r],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(o.allBodies(e.composites[n]));return e.cache&&(e.cache.allBodies=t),t},o.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(o.allConstraints(e.composites[n]));return e.cache&&(e.cache.allConstraints=t),t},o.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(o.allComposites(e.composites[n]));return e.cache&&(e.cache.allComposites=t),t},o.get=function(e,t,n){var r,i;switch(n){case"body":r=o.allBodies(e);break;case"constraint":r=o.allConstraints(e);break;case"composite":r=o.allComposites(e).concat(e)}return r?0===(i=r.filter((function(e){return e.id.toString()===t.toString()}))).length?null:i[0]:null},o.move=function(e,t,n){return o.remove(e,t),o.add(n,t),e},o.rebase=function(e){for(var t=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),n=0;n<t.length;n++)t[n].id=i.nextId();return e},o.translate=function(e,t,n){for(var r=n?o.allBodies(e):e.bodies,i=0;i<r.length;i++)s.translate(r[i],t);return e},o.rotate=function(e,t,n,r){for(var i=Math.cos(t),a=Math.sin(t),l=r?o.allBodies(e):e.bodies,c=0;c<l.length;c++){var u=l[c],p=u.position.x-n.x,f=u.position.y-n.y;s.setPosition(u,{x:n.x+(p*i-f*a),y:n.y+(p*a+f*i)}),s.rotate(u,t)}return e},o.scale=function(e,t,n,r,i){for(var a=i?o.allBodies(e):e.bodies,l=0;l<a.length;l++){var c=a[l],u=c.position.x-r.x,p=c.position.y-r.y;s.setPosition(c,{x:r.x+u*t,y:r.y+p*n}),s.scale(c,t,n)}return e},o.bounds=function(e){for(var t=o.allBodies(e),n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i.bounds.min,i.bounds.max)}return a.create(n)}},function(e,t,n){var o={};e.exports=o;var r=n(4),i=n(5),a=n(0);o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(e,t){for(var n=t/a._baseDelta,i=o._motionSleepThreshold,s=0;s<e.length;s++){var l=e[s],c=r.getSpeed(l),u=r.getAngularSpeed(l),p=c*c+u*u;if(0===l.force.x&&0===l.force.y){var f=Math.min(l.motion,p),d=Math.max(l.motion,p);l.motion=o._minBias*f+(1-o._minBias)*d,l.sleepThreshold>0&&l.motion<i?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/n&&o.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else o.set(l,!1)}},o.afterCollisions=function(e){for(var t=o._motionSleepThreshold,n=0;n<e.length;n++){var r=e[n];if(r.isActive){var i=r.collision,a=i.bodyA.parent,s=i.bodyB.parent;if(!(a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic)&&(a.isSleeping||s.isSleeping)){var l=a.isSleeping&&!a.isStatic?a:s,c=l===a?s:a;!l.isStatic&&c.motion>t&&o.set(l,!1)}}}},o.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&i.trigger(e,"sleepEnd"))}},function(e,t,n){var o={};e.exports=o;var r,i,a,s=n(3),l=n(9);r=[],i={overlap:0,axis:null},a={overlap:0,axis:null},o.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(e,t,n){if(o._overlapAxes(i,e.vertices,t.vertices,e.axes),i.overlap<=0)return null;if(o._overlapAxes(a,t.vertices,e.vertices,t.axes),a.overlap<=0)return null;var r,c,u=n&&n.table[l.id(e,t)];u?r=u.collision:((r=o.create(e,t)).collided=!0,r.bodyA=e.id<t.id?e:t,r.bodyB=e.id<t.id?t:e,r.parentA=r.bodyA.parent,r.parentB=r.bodyB.parent),e=r.bodyA,t=r.bodyB,c=i.overlap<a.overlap?i:a;var p=r.normal,f=r.tangent,d=r.penetration,y=r.supports,g=c.overlap,v=c.axis,m=v.x,h=v.y;m*(t.position.x-e.position.x)+h*(t.position.y-e.position.y)>=0&&(m=-m,h=-h),p.x=m,p.y=h,f.x=-h,f.y=m,d.x=m*g,d.y=h*g,r.depth=g;var x=o._findSupports(e,t,p,1),b=0;if(s.contains(e.vertices,x[0])&&(y[b++]=x[0]),s.contains(e.vertices,x[1])&&(y[b++]=x[1]),b<2){var w=o._findSupports(t,e,p,-1);s.contains(t.vertices,w[0])&&(y[b++]=w[0]),b<2&&s.contains(t.vertices,w[1])&&(y[b++]=w[1])}return 0===b&&(y[b++]=x[0]),r.supportCount=b,r},o._overlapAxes=function(e,t,n,o){var r,i,a,s,l,c,u=t.length,p=n.length,f=t[0].x,d=t[0].y,y=n[0].x,g=n[0].y,v=o.length,m=Number.MAX_VALUE,h=0;for(l=0;l<v;l++){var x=o[l],b=x.x,w=x.y,S=f*b+d*w,A=y*b+g*w,P=S,M=A;for(c=1;c<u;c+=1)(s=t[c].x*b+t[c].y*w)>P?P=s:s<S&&(S=s);for(c=1;c<p;c+=1)(s=n[c].x*b+n[c].y*w)>M?M=s:s<A&&(A=s);if((r=(i=P-A)<(a=M-S)?i:a)<m&&(m=r,h=l,r<=0))break}e.axis=o[h],e.overlap=m},o._findSupports=function(e,t,n,o){var i,a,s,l=t.vertices,c=l.length,u=e.position.x,p=e.position.y,f=n.x*o,d=n.y*o,y=l[0],g=y,v=f*(u-g.x)+d*(p-g.y);for(s=1;s<c;s+=1)(a=f*(u-(g=l[s]).x)+d*(p-g.y))<v&&(v=a,y=g);return v=f*(u-(i=l[(c+y.index-1)%c]).x)+d*(p-i.y),f*(u-(g=l[(y.index+1)%c]).x)+d*(p-g.y)<v?(r[0]=y,r[1]=g,r):(r[0]=y,r[1]=i,r)}},function(e,t,n){var o={};e.exports=o;var r=n(16);o.create=function(e,t){var n=e.bodyA,i=e.bodyB,a={id:o.id(n,i),bodyA:n,bodyB:i,collision:e,contacts:[r.create(),r.create()],contactCount:0,separation:0,isActive:!0,isSensor:n.isSensor||i.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(a,e,t),a},o.update=function(e,t,n){var o=t.supports,r=t.supportCount,i=e.contacts,a=t.parentA,s=t.parentB;e.isActive=!0,e.timeUpdated=n,e.collision=t,e.separation=t.depth,e.inverseMass=a.inverseMass+s.inverseMass,e.friction=a.friction<s.friction?a.friction:s.friction,e.frictionStatic=a.frictionStatic>s.frictionStatic?a.frictionStatic:s.frictionStatic,e.restitution=a.restitution>s.restitution?a.restitution:s.restitution,e.slop=a.slop>s.slop?a.slop:s.slop,e.contactCount=r,t.pair=e;var l=o[0],c=i[0],u=o[1],p=i[1];p.vertex!==l&&c.vertex!==u||(i[1]=c,i[0]=c=p,p=i[1]),c.vertex=l,p.vertex=u},o.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.contactCount=0)},o.id=function(e,t){return e.id<t.id?e.id.toString(36)+":"+t.id.toString(36):t.id.toString(36)+":"+e.id.toString(36)}},function(e,t,n){var o={};e.exports=o;var r=n(3),i=n(2),a=n(7),s=n(1),l=n(11),c=n(0);o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?i.add(t.bodyA.position,t.pointA):t.pointA,o=t.bodyB?i.add(t.bodyB.position,t.pointB):t.pointB,r=i.magnitude(i.sub(n,o));t.length=void 0!==t.length?t.length:r,t.id=t.id||c.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var a={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(a.type="pin",a.anchors=!1):t.stiffness<.9&&(a.type="spring"),t.render=c.extend(a,t.render),t},o.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],o=n.constraintImpulse;n.isStatic||0===o.x&&0===o.y&&0===o.angle||(n.position.x+=o.x,n.position.y+=o.y,n.angle+=o.angle)}},o.solveAll=function(e,t){for(var n=c.clamp(t/c._baseDelta,0,1),r=0;r<e.length;r+=1){var i=e[r],a=!i.bodyA||i.bodyA&&i.bodyA.isStatic,s=!i.bodyB||i.bodyB&&i.bodyB.isStatic;(a||s)&&o.solve(e[r],n)}for(r=0;r<e.length;r+=1)a=!(i=e[r]).bodyA||i.bodyA&&i.bodyA.isStatic,s=!i.bodyB||i.bodyB&&i.bodyB.isStatic,a||s||o.solve(e[r],n)},o.solve=function(e,t){var n=e.bodyA,r=e.bodyB,a=e.pointA,s=e.pointB;if(n||r){n&&!n.isStatic&&(i.rotate(a,n.angle-e.angleA,a),e.angleA=n.angle),r&&!r.isStatic&&(i.rotate(s,r.angle-e.angleB,s),e.angleB=r.angle);var l=a,c=s;if(n&&(l=i.add(n.position,a)),r&&(c=i.add(r.position,s)),l&&c){var u=i.sub(l,c),p=i.magnitude(u);p<o._minLength&&(p=o._minLength);var f,d,y,g,v,m=(p-e.length)/p,h=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,x=e.damping*t,b=i.mult(u,m*h),w=(n?n.inverseMass:0)+(r?r.inverseMass:0),S=w+((n?n.inverseInertia:0)+(r?r.inverseInertia:0));if(x>0){var A=i.create();y=i.div(u,p),v=i.sub(r&&i.sub(r.position,r.positionPrev)||A,n&&i.sub(n.position,n.positionPrev)||A),g=i.dot(y,v)}n&&!n.isStatic&&(d=n.inverseMass/w,n.constraintImpulse.x-=b.x*d,n.constraintImpulse.y-=b.y*d,n.position.x-=b.x*d,n.position.y-=b.y*d,x>0&&(n.positionPrev.x-=x*y.x*g*d,n.positionPrev.y-=x*y.y*g*d),f=i.cross(a,b)/S*o._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=f,n.angle-=f),r&&!r.isStatic&&(d=r.inverseMass/w,r.constraintImpulse.x+=b.x*d,r.constraintImpulse.y+=b.y*d,r.position.x+=b.x*d,r.position.y+=b.y*d,x>0&&(r.positionPrev.x+=x*y.x*g*d,r.positionPrev.y+=x*y.y*g*d),f=i.cross(s,b)/S*o._torqueDampen*r.inverseInertia*(1-e.angularStiffness),r.constraintImpulse.angle+=f,r.angle+=f)}}},o.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],c=n.constraintImpulse;if(!(n.isStatic||0===c.x&&0===c.y&&0===c.angle)){a.set(n,!1);for(var u=0;u<n.parts.length;u++){var p=n.parts[u];r.translate(p.vertices,c),u>0&&(p.position.x+=c.x,p.position.y+=c.y),0!==c.angle&&(r.rotate(p.vertices,c.angle,n.position),l.rotate(p.axes,c.angle),u>0&&i.rotateAbout(p.position,c.angle,n.position,p.position)),s.update(p.bounds,p.vertices,n.velocity)}c.angle*=o._warming,c.x*=o._warming,c.y*=o._warming}}},o.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},o.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}},o.currentLength=function(e){var t=(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),n=(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0),o=t-((e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0)),r=n-((e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0));return Math.sqrt(o*o+r*r)}},function(e,t,n){var o={};e.exports=o;var r=n(2),i=n(0);o.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var o=(n+1)%e.length,a=r.normalise({x:e[o].y-e[n].y,y:e[n].x-e[o].x}),s=0===a.y?1/0:a.x/a.y;t[s=s.toFixed(3).toString()]=a}return i.values(t)},o.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),o=Math.sin(t),r=0;r<e.length;r++){var i,a=e[r];i=a.x*n-a.y*o,a.y=a.x*o+a.y*n,a.x=i}}},function(e,t,n){var o={};e.exports=o;var r=n(3),i=n(0),a=n(4),s=n(1),l=n(2);o.rectangle=function(e,t,n,o,s){s=s||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:r.fromPath("L 0 0 L "+n+" 0 L "+n+" "+o+" L 0 "+o)};if(s.chamfer){var c=s.chamfer;l.vertices=r.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete s.chamfer}return a.create(i.extend({},l,s))},o.trapezoid=function(e,t,n,o,s,l){l=l||{},s>=1&&i.warn("Bodies.trapezoid: slope parameter must be < 1.");var c,u=n*(s*=.5),p=u+(1-2*s)*n,f=p+u;c=s<.5?"L 0 0 L "+u+" "+-o+" L "+p+" "+-o+" L "+f+" 0":"L 0 0 L "+p+" "+-o+" L "+f+" 0";var d={label:"Trapezoid Body",position:{x:e,y:t},vertices:r.fromPath(c)};if(l.chamfer){var y=l.chamfer;d.vertices=r.chamfer(d.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return a.create(i.extend({},d,l))},o.circle=function(e,t,n,r,a){r=r||{};var s={label:"Circle Body",circleRadius:n};a=a||25;var l=Math.ceil(Math.max(10,Math.min(a,n)));return l%2==1&&(l+=1),o.polygon(e,t,l,n,i.extend({},s,r))},o.polygon=function(e,t,n,s,l){if(l=l||{},n<3)return o.circle(e,t,s,l);for(var c=2*Math.PI/n,u="",p=.5*c,f=0;f<n;f+=1){var d=p+f*c,y=Math.cos(d)*s,g=Math.sin(d)*s;u+="L "+y.toFixed(3)+" "+g.toFixed(3)+" "}var v={label:"Polygon Body",position:{x:e,y:t},vertices:r.fromPath(u)};if(l.chamfer){var m=l.chamfer;v.vertices=r.chamfer(v.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete l.chamfer}return a.create(i.extend({},v,l))},o.fromVertices=function(e,t,n,o,c,u,p,f){var d,y,g,v,m,h,x,b,w,S,A=i.getDecomp();for(d=Boolean(A&&A.quickDecomp),o=o||{},g=[],c=void 0!==c&&c,u=void 0!==u?u:.01,p=void 0!==p?p:10,f=void 0!==f?f:.01,i.isArray(n[0])||(n=[n]),w=0;w<n.length;w+=1)if(m=n[w],!(v=r.isConvex(m))&&!d&&i.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),v||!d)m=v?r.clockwiseSort(m):r.hull(m),g.push({position:{x:e,y:t},vertices:m});else{var P=m.map((function(e){return[e.x,e.y]}));A.makeCCW(P),!1!==u&&A.removeCollinearPoints(P,u),!1!==f&&A.removeDuplicatePoints&&A.removeDuplicatePoints(P,f);var M=A.quickDecomp(P);for(h=0;h<M.length;h++){var _=M[h].map((function(e){return{x:e[0],y:e[1]}}));p>0&&r.area(_)<p||g.push({position:r.centre(_),vertices:_})}}for(h=0;h<g.length;h++)g[h]=a.create(i.extend(g[h],o));if(c)for(h=0;h<g.length;h++){var C=g[h];for(x=h+1;x<g.length;x++){var B=g[x];if(s.overlaps(C.bounds,B.bounds)){var k=C.vertices,I=B.vertices;for(b=0;b<C.vertices.length;b++)for(S=0;S<B.vertices.length;S++){var E=l.magnitudeSquared(l.sub(k[(b+1)%k.length],I[S])),T=l.magnitudeSquared(l.sub(k[b],I[(S+1)%I.length]));E<5&&T<5&&(k[b].isInternal=!0,I[S].isInternal=!0)}}}}return g.length>1?(y=a.create(i.extend({parts:g.slice(0)},o)),a.setPosition(y,{x:e,y:t}),y):g[0]}},function(e,t,n){var o={};e.exports=o;var r=n(0),i=n(8);o.create=function(e){return r.extend({bodies:[],collisions:[],pairs:null},e)},o.setBodies=function(e,t){e.bodies=t.slice(0)},o.clear=function(e){e.bodies=[],e.collisions=[]},o.collisions=function(e){var t,n,r=e.pairs,a=e.bodies,s=a.length,l=o.canCollide,c=i.collides,u=e.collisions,p=0;for(a.sort(o._compareBoundsX),t=0;t<s;t++){var f=a[t],d=f.bounds,y=f.bounds.max.x,g=f.bounds.max.y,v=f.bounds.min.y,m=f.isStatic||f.isSleeping,h=f.parts.length,x=1===h;for(n=t+1;n<s;n++){var b=a[n];if((B=b.bounds).min.x>y)break;if(!(g<B.min.y||v>B.max.y)&&(!m||!b.isStatic&&!b.isSleeping)&&l(f.collisionFilter,b.collisionFilter)){var w=b.parts.length;if(x&&1===w)(_=c(f,b,r))&&(u[p++]=_);else for(var S=w>1?1:0,A=h>1?1:0;A<h;A++)for(var P=f.parts[A],M=(d=P.bounds,S);M<w;M++){var _,C=b.parts[M],B=C.bounds;d.min.x>B.max.x||d.max.x<B.min.x||d.max.y<B.min.y||d.min.y>B.max.y||(_=c(P,C,r))&&(u[p++]=_)}}}}return u.length!==p&&(u.length=p),u},o.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:!!(e.mask&t.category)&&!!(t.mask&e.category)},o._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},function(e,t,n){var o={};e.exports=o;var r=n(0);o.create=function(e){var t={};return e||r.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault(),t.sourceEvents.mousewheel=e},o.setElement(t,t.element),t},o.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove,{passive:!0}),t.addEventListener("mousedown",e.mousedown,{passive:!0}),t.addEventListener("mouseup",e.mouseup,{passive:!0}),t.addEventListener("wheel",e.mousewheel,{passive:!1}),t.addEventListener("touchmove",e.mousemove,{passive:!1}),t.addEventListener("touchstart",e.mousedown,{passive:!1}),t.addEventListener("touchend",e.mouseup,{passive:!1})},o.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},o.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o._getRelativeMousePosition=function(e,t,n){var o,r,i=t.getBoundingClientRect(),a=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:a.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:a.scrollTop,c=e.changedTouches;return c?(o=c[0].pageX-i.left-s,r=c[0].pageY-i.top-l):(o=e.pageX-i.left-s,r=e.pageY-i.top-l),{x:o/(t.clientWidth/(t.width||t.clientWidth)*n),y:r/(t.clientHeight/(t.height||t.clientHeight)*n)}}},function(e,t,n){var o={};e.exports=o;var r=n(0);o._registry={},o.register=function(e){if(o.isPlugin(e)||r.warn("Plugin.register:",o.toString(e),"does not implement all required fields."),e.name in o._registry){var t=o._registry[e.name],n=o.versionParse(e.version).number,i=o.versionParse(t.version).number;n>i?(r.warn("Plugin.register:",o.toString(t),"was upgraded to",o.toString(e)),o._registry[e.name]=e):n<i?r.warn("Plugin.register:",o.toString(t),"can not be downgraded to",o.toString(e)):e!==t&&r.warn("Plugin.register:",o.toString(e),"is already registered to different plugin object")}else o._registry[e.name]=e;return e},o.resolve=function(e){return o._registry[o.dependencyParse(e).name]},o.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},o.isPlugin=function(e){return e&&e.name&&e.version&&e.install},o.isUsed=function(e,t){return e.used.indexOf(t)>-1},o.isFor=function(e,t){var n=e.for&&o.dependencyParse(e.for);return!e.for||t.name===n.name&&o.versionSatisfies(t.version,n.range)},o.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=o.dependencies(e),i=r.topologicalSort(n),a=[],s=0;s<i.length;s+=1)if(i[s]!==e.name){var l=o.resolve(i[s]);l?o.isUsed(e,l.name)||(o.isFor(l,e)||(r.warn("Plugin.use:",o.toString(l),"is for",l.for,"but installed on",o.toString(e)+"."),l._warned=!0),l.install?l.install(e):(r.warn("Plugin.use:",o.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(a.push("🔶 "+o.toString(l)),delete l._warned):a.push("✅ "+o.toString(l)),e.used.push(l.name)):a.push("❌ "+i[s])}a.length>0&&r.info(a.join("  "))}else r.warn("Plugin.use:",o.toString(e),"does not specify any dependencies to install.")},o.dependencies=function(e,t){var n=o.dependencyParse(e),i=n.name;if(!(i in(t=t||{}))){e=o.resolve(e)||e,t[i]=r.map(e.uses||[],(function(t){o.isPlugin(t)&&o.register(t);var i=o.dependencyParse(t),a=o.resolve(t);return a&&!o.versionSatisfies(a.version,i.range)?(r.warn("Plugin.dependencies:",o.toString(a),"does not satisfy",o.toString(i),"used by",o.toString(n)+"."),a._warned=!0,e._warned=!0):a||(r.warn("Plugin.dependencies:",o.toString(t),"used by",o.toString(n),"could not be resolved."),e._warned=!0),i.name}));for(var a=0;a<t[i].length;a+=1)o.dependencies(t[i][a],t);return t}},o.dependencyParse=function(e){return r.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||r.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},o.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||r.warn("Plugin.versionParse:",e,"is not a valid version or range.");var n=t.exec(e),o=Number(n[4]),i=Number(n[5]),a=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:e,operator:n[1]||n[2]||"",major:o,minor:i,patch:a,parts:[o,i,a],prerelease:n[7],number:1e8*o+1e4*i+a}},o.versionSatisfies=function(e,t){t=t||"*";var n=o.versionParse(t),r=o.versionParse(e);if(n.isRange){if("*"===n.operator||"*"===e)return!0;if(">"===n.operator)return r.number>n.number;if(">="===n.operator)return r.number>=n.number;if("~"===n.operator)return r.major===n.major&&r.minor===n.minor&&r.patch>=n.patch;if("^"===n.operator)return n.major>0?r.major===n.major&&r.number>=n.number:n.minor>0?r.minor===n.minor&&r.patch>=n.patch:r.patch===n.patch}return e===t||"*"===e}},function(e,t){var n={};e.exports=n,n.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(e,t,n){var o={};e.exports=o;var r=n(7),i=n(18),a=n(13),s=n(19),l=n(5),c=n(6),u=n(10),p=n(0),f=n(4);o._deltaMax=1e3/60,o.create=function(e){e=e||{};var t=p.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},e);return t.world=e.world||c.create({label:"World"}),t.pairs=e.pairs||s.create(),t.detector=e.detector||a.create(),t.detector.pairs=t.pairs,t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},o.update=function(e,t){var n,f=p.now(),d=e.world,y=e.detector,g=e.pairs,v=e.timing,m=v.timestamp;t>o._deltaMax&&p.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),t=void 0!==t?t:p._baseDelta,t*=v.timeScale,v.timestamp+=t,v.lastDelta=t;var h={timestamp:v.timestamp,delta:t};l.trigger(e,"beforeUpdate",h);var x=c.allBodies(d),b=c.allConstraints(d);for(d.isModified&&(a.setBodies(y,x),c.setModified(d,!1,!1,!0)),e.enableSleeping&&r.update(x,t),o._bodiesApplyGravity(x,e.gravity),t>0&&o._bodiesUpdate(x,t),l.trigger(e,"beforeSolve",h),u.preSolveAll(x),n=0;n<e.constraintIterations;n++)u.solveAll(b,t);u.postSolveAll(x);var w=a.collisions(y);s.update(g,w,m),e.enableSleeping&&r.afterCollisions(g.list),g.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:g.collisionStart,timestamp:v.timestamp,delta:t});var S=p.clamp(20/e.positionIterations,0,1);for(i.preSolvePosition(g.list),n=0;n<e.positionIterations;n++)i.solvePosition(g.list,t,S);for(i.postSolvePosition(x),u.preSolveAll(x),n=0;n<e.constraintIterations;n++)u.solveAll(b,t);for(u.postSolveAll(x),i.preSolveVelocity(g.list),n=0;n<e.velocityIterations;n++)i.solveVelocity(g.list,t);return o._bodiesUpdateVelocities(x),g.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:g.collisionActive,timestamp:v.timestamp,delta:t}),g.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:g.collisionEnd,timestamp:v.timestamp,delta:t}),o._bodiesClearForces(x),l.trigger(e,"afterUpdate",h),e.timing.lastElapsed=p.now()-f,e},o.merge=function(e,t){if(p.extend(e,t),t.world){e.world=t.world,o.clear(e);for(var n=c.allBodies(e.world),i=0;i<n.length;i++){var a=n[i];r.set(a,!1),a.id=p.nextId()}}},o.clear=function(e){s.clear(e.pairs),a.clear(e.detector)},o._bodiesClearForces=function(e){for(var t=e.length,n=0;n<t;n++){var o=e[n];o.force.x=0,o.force.y=0,o.torque=0}},o._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001,o=e.length;if((0!==t.x||0!==t.y)&&0!==n)for(var r=0;r<o;r++){var i=e[r];i.isStatic||i.isSleeping||(i.force.y+=i.mass*t.y*n,i.force.x+=i.mass*t.x*n)}},o._bodiesUpdate=function(e,t){for(var n=e.length,o=0;o<n;o++){var r=e[o];r.isStatic||r.isSleeping||f.update(r,t)}},o._bodiesUpdateVelocities=function(e){for(var t=e.length,n=0;n<t;n++)f.updateVelocities(e[n])}},function(e,t,n){var o={};e.exports=o;var r=n(3),i=n(0),a=n(1);o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(e){var t,n,o,r=e.length;for(t=0;t<r;t++)(n=e[t]).isActive&&(o=n.contactCount,n.collision.parentA.totalContacts+=o,n.collision.parentB.totalContacts+=o)},o.solvePosition=function(e,t,n){var r,a,s,l,c,u,p,f,d=o._positionDampen*(n||1),y=i.clamp(t/i._baseDelta,0,1),g=e.length;for(r=0;r<g;r++)(a=e[r]).isActive&&!a.isSensor&&(l=(s=a.collision).parentA,c=s.parentB,u=s.normal,a.separation=s.depth+u.x*(c.positionImpulse.x-l.positionImpulse.x)+u.y*(c.positionImpulse.y-l.positionImpulse.y));for(r=0;r<g;r++)(a=e[r]).isActive&&!a.isSensor&&(l=(s=a.collision).parentA,c=s.parentB,u=s.normal,f=a.separation-a.slop*y,(l.isStatic||c.isStatic)&&(f*=2),l.isStatic||l.isSleeping||(p=d/l.totalContacts,l.positionImpulse.x+=u.x*f*p,l.positionImpulse.y+=u.y*f*p),c.isStatic||c.isSleeping||(p=d/c.totalContacts,c.positionImpulse.x-=u.x*f*p,c.positionImpulse.y-=u.y*f*p))},o.postSolvePosition=function(e){for(var t=o._positionWarming,n=e.length,i=r.translate,s=a.update,l=0;l<n;l++){var c=e[l],u=c.positionImpulse,p=u.x,f=u.y,d=c.velocity;if(c.totalContacts=0,0!==p||0!==f){for(var y=0;y<c.parts.length;y++){var g=c.parts[y];i(g.vertices,u),s(g.bounds,g.vertices,d),g.position.x+=p,g.position.y+=f}c.positionPrev.x+=p,c.positionPrev.y+=f,p*d.x+f*d.y<0?(u.x=0,u.y=0):(u.x*=t,u.y*=t)}}},o.preSolveVelocity=function(e){var t,n,o=e.length;for(t=0;t<o;t++){var r=e[t];if(r.isActive&&!r.isSensor){var i=r.contacts,a=r.contactCount,s=r.collision,l=s.parentA,c=s.parentB,u=s.normal,p=s.tangent;for(n=0;n<a;n++){var f=i[n],d=f.vertex,y=f.normalImpulse,g=f.tangentImpulse;if(0!==y||0!==g){var v=u.x*y+p.x*g,m=u.y*y+p.y*g;l.isStatic||l.isSleeping||(l.positionPrev.x+=v*l.inverseMass,l.positionPrev.y+=m*l.inverseMass,l.anglePrev+=l.inverseInertia*((d.x-l.position.x)*m-(d.y-l.position.y)*v)),c.isStatic||c.isSleeping||(c.positionPrev.x-=v*c.inverseMass,c.positionPrev.y-=m*c.inverseMass,c.anglePrev-=c.inverseInertia*((d.x-c.position.x)*m-(d.y-c.position.y)*v))}}}}},o.solveVelocity=function(e,t){var n,r,a,s,l=t/i._baseDelta,c=l*l*l,u=-o._restingThresh*l,p=o._restingThreshTangent,f=o._frictionNormalMultiplier*l,d=o._frictionMaxStatic,y=e.length;for(a=0;a<y;a++){var g=e[a];if(g.isActive&&!g.isSensor){var v=g.collision,m=v.parentA,h=v.parentB,x=v.normal.x,b=v.normal.y,w=v.tangent.x,S=v.tangent.y,A=g.inverseMass,P=g.friction*g.frictionStatic*f,M=g.contacts,_=g.contactCount,C=1/_,B=m.position.x-m.positionPrev.x,k=m.position.y-m.positionPrev.y,I=m.angle-m.anglePrev,E=h.position.x-h.positionPrev.x,T=h.position.y-h.positionPrev.y,R=h.angle-h.anglePrev;for(s=0;s<_;s++){var L=M[s],D=L.vertex,F=D.x-m.position.x,O=D.y-m.position.y,V=D.x-h.position.x,q=D.y-h.position.y,j=B-O*I-(E-q*R),H=k+F*I-(T+V*R),G=x*j+b*H,U=w*j+S*H,W=g.separation+G,z=Math.min(W,1),N=(z=W<0?0:z)*P;U<-N||U>N?(r=U>0?U:-U,(n=g.friction*(U>0?1:-1)*c)<-r?n=-r:n>r&&(n=r)):(n=U,r=d);var X=F*b-O*x,Y=V*b-q*x,$=C/(A+m.inverseInertia*X*X+h.inverseInertia*Y*Y),Q=(1+g.restitution)*G*$;if(n*=$,G<u)L.normalImpulse=0;else{var Z=L.normalImpulse;L.normalImpulse+=Q,L.normalImpulse>0&&(L.normalImpulse=0),Q=L.normalImpulse-Z}if(U<-p||U>p)L.tangentImpulse=0;else{var J=L.tangentImpulse;L.tangentImpulse+=n,L.tangentImpulse<-r&&(L.tangentImpulse=-r),L.tangentImpulse>r&&(L.tangentImpulse=r),n=L.tangentImpulse-J}var K=x*Q+w*n,ee=b*Q+S*n;m.isStatic||m.isSleeping||(m.positionPrev.x+=K*m.inverseMass,m.positionPrev.y+=ee*m.inverseMass,m.anglePrev+=(F*ee-O*K)*m.inverseInertia),h.isStatic||h.isSleeping||(h.positionPrev.x-=K*h.inverseMass,h.positionPrev.y-=ee*h.inverseMass,h.anglePrev-=(V*ee-q*K)*h.inverseInertia)}}}}},function(e,t,n){var o={};e.exports=o;var r=n(9),i=n(0);o.create=function(e){return i.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},o.update=function(e,t,n){var o,i,a,s=r.update,l=r.create,c=r.setActive,u=e.table,p=e.list,f=p.length,d=f,y=e.collisionStart,g=e.collisionEnd,v=e.collisionActive,m=t.length,h=0,x=0,b=0;for(a=0;a<m;a++)(i=(o=t[a]).pair)?(i.isActive&&(v[b++]=i),s(i,o,n)):(u[(i=l(o,n)).id]=i,y[h++]=i,p[d++]=i);for(d=0,f=p.length,a=0;a<f;a++)(i=p[a]).timeUpdated>=n?p[d++]=i:(c(i,!1,n),i.collision.bodyA.sleepCounter>0&&i.collision.bodyB.sleepCounter>0?p[d++]=i:(g[x++]=i,delete u[i.id]));p.length!==d&&(p.length=d),y.length!==h&&(y.length=h),g.length!==x&&(g.length=x),v.length!==b&&(v.length=b)},o.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,n){var o=e.exports=n(21);o.Axes=n(11),o.Bodies=n(12),o.Body=n(4),o.Bounds=n(1),o.Collision=n(8),o.Common=n(0),o.Composite=n(6),o.Composites=n(22),o.Constraint=n(10),o.Contact=n(16),o.Detector=n(13),o.Engine=n(17),o.Events=n(5),o.Grid=n(23),o.Mouse=n(14),o.MouseConstraint=n(24),o.Pair=n(9),o.Pairs=n(19),o.Plugin=n(15),o.Query=n(25),o.Render=n(26),o.Resolver=n(18),o.Runner=n(27),o.SAT=n(28),o.Sleeping=n(7),o.Svg=n(29),o.Vector=n(2),o.Vertices=n(3),o.World=n(30),o.Engine.run=o.Runner.run,o.Common.deprecated(o.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(e,t,n){var o={};e.exports=o;var r=n(15),i=n(0);o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){r.use(o,Array.prototype.slice.call(arguments))},o.before=function(e,t){return e=e.replace(/^Matter./,""),i.chainPathBefore(o,e,t)},o.after=function(e,t){return e=e.replace(/^Matter./,""),i.chainPathAfter(o,e,t)}},function(e,t,n){var o={};e.exports=o;var r=n(6),i=n(10),a=n(0),s=n(4),l=n(12),c=a.deprecated;o.stack=function(e,t,n,o,i,a,l){for(var c,u=r.create({label:"Stack"}),p=e,f=t,d=0,y=0;y<o;y++){for(var g=0,v=0;v<n;v++){var m=l(p,f,v,y,c,d);if(m){var h=m.bounds.max.y-m.bounds.min.y,x=m.bounds.max.x-m.bounds.min.x;h>g&&(g=h),s.translate(m,{x:.5*x,y:.5*h}),p=m.bounds.max.x+i,r.addBody(u,m),c=m,d+=1}else p+=i}f+=g+a,p=e}return u},o.chain=function(e,t,n,o,s,l){for(var c=e.bodies,u=1;u<c.length;u++){var p=c[u-1],f=c[u],d=p.bounds.max.y-p.bounds.min.y,y=p.bounds.max.x-p.bounds.min.x,g=f.bounds.max.y-f.bounds.min.y,v={bodyA:p,pointA:{x:y*t,y:d*n},bodyB:f,pointB:{x:(f.bounds.max.x-f.bounds.min.x)*o,y:g*s}},m=a.extend(v,l);r.addConstraint(e,i.create(m))}return e.label+=" Chain",e},o.mesh=function(e,t,n,o,s){var l,c,u,p,f,d=e.bodies;for(l=0;l<n;l++){for(c=1;c<t;c++)u=d[c-1+l*t],p=d[c+l*t],r.addConstraint(e,i.create(a.extend({bodyA:u,bodyB:p},s)));if(l>0)for(c=0;c<t;c++)u=d[c+(l-1)*t],p=d[c+l*t],r.addConstraint(e,i.create(a.extend({bodyA:u,bodyB:p},s))),o&&c>0&&(f=d[c-1+(l-1)*t],r.addConstraint(e,i.create(a.extend({bodyA:f,bodyB:p},s)))),o&&c<t-1&&(f=d[c+1+(l-1)*t],r.addConstraint(e,i.create(a.extend({bodyA:f,bodyB:p},s))))}return e.label+=" Mesh",e},o.pyramid=function(e,t,n,r,i,a,l){return o.stack(e,t,n,r,i,a,(function(t,o,a,c,u,p){var f=Math.min(r,Math.ceil(n/2)),d=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>f||a<(c=f-c)||a>n-1-c))return 1===p&&s.translate(u,{x:(a+(n%2==1?1:-1))*d,y:0}),l(e+(u?a*d:0)+a*i,o,a,c,u,p)}))},o.newtonsCradle=function(e,t,n,o,a){for(var s=r.create({label:"Newtons Cradle"}),c=0;c<n;c++){var u=l.circle(e+c*(1.9*o),t+a,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=i.create({pointA:{x:e+c*(1.9*o),y:t},bodyB:u});r.addBody(s,u),r.addConstraint(s,p)}return s},c(o,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),o.car=function(e,t,n,o,a){var c=s.nextGroup(!0),u=.5*-n+20,p=.5*n-20,f=r.create({label:"Car"}),d=l.rectangle(e,t,n,o,{collisionFilter:{group:c},chamfer:{radius:.5*o},density:2e-4}),y=l.circle(e+u,t+0,a,{collisionFilter:{group:c},friction:.8}),g=l.circle(e+p,t+0,a,{collisionFilter:{group:c},friction:.8}),v=i.create({bodyB:d,pointB:{x:u,y:0},bodyA:y,stiffness:1,length:0}),m=i.create({bodyB:d,pointB:{x:p,y:0},bodyA:g,stiffness:1,length:0});return r.addBody(f,d),r.addBody(f,y),r.addBody(f,g),r.addConstraint(f,v),r.addConstraint(f,m),f},c(o,"car","Composites.car ➤ moved to car example"),o.softBody=function(e,t,n,r,i,s,c,u,p,f){p=a.extend({inertia:1/0},p),f=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},f);var d=o.stack(e,t,n,r,i,s,(function(e,t){return l.circle(e,t,u,p)}));return o.mesh(d,n,r,c,f),d.label="Soft Body",d},c(o,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")},function(e,t,n){var o={};e.exports=o;var r=n(9),i=n(0),a=i.deprecated;o.create=function(e){return i.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},e)},o.update=function(e,t,n,r){var i,a,s,l,c,u=n.world,p=e.buckets,f=!1;for(i=0;i<t.length;i++){var d=t[i];if((!d.isSleeping||r)&&(!u.bounds||!(d.bounds.max.x<u.bounds.min.x||d.bounds.min.x>u.bounds.max.x||d.bounds.max.y<u.bounds.min.y||d.bounds.min.y>u.bounds.max.y))){var y=o._getRegion(e,d);if(!d.region||y.id!==d.region.id||r){d.region&&!r||(d.region=y);var g=o._regionUnion(y,d.region);for(a=g.startCol;a<=g.endCol;a++)for(s=g.startRow;s<=g.endRow;s++){l=p[c=o._getBucketId(a,s)];var v=a>=y.startCol&&a<=y.endCol&&s>=y.startRow&&s<=y.endRow,m=a>=d.region.startCol&&a<=d.region.endCol&&s>=d.region.startRow&&s<=d.region.endRow;!v&&m&&m&&l&&o._bucketRemoveBody(e,l,d),(d.region===y||v&&!m||r)&&(l||(l=o._createBucket(p,c)),o._bucketAddBody(e,l,d))}d.region=y,f=!0}}}f&&(e.pairsList=o._createActivePairsList(e))},a(o,"update","Grid.update ➤ replaced by Matter.Detector"),o.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},a(o,"clear","Grid.clear ➤ replaced by Matter.Detector"),o._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),r=Math.max(e.endCol,t.endCol),i=Math.min(e.startRow,t.startRow),a=Math.max(e.endRow,t.endRow);return o._createRegion(n,r,i,a)},o._getRegion=function(e,t){var n=t.bounds,r=Math.floor(n.min.x/e.bucketWidth),i=Math.floor(n.max.x/e.bucketWidth),a=Math.floor(n.min.y/e.bucketHeight),s=Math.floor(n.max.y/e.bucketHeight);return o._createRegion(r,i,a,s)},o._createRegion=function(e,t,n,o){return{id:e+","+t+","+n+","+o,startCol:e,endCol:t,startRow:n,endRow:o}},o._getBucketId=function(e,t){return"C"+e+"R"+t},o._createBucket=function(e,t){return e[t]=[]},o._bucketAddBody=function(e,t,n){var o,i=e.pairs,a=r.id,s=t.length;for(o=0;o<s;o++){var l=t[o];if(!(n.id===l.id||n.isStatic&&l.isStatic)){var c=a(n,l),u=i[c];u?u[2]+=1:i[c]=[n,l,1]}}t.push(n)},o._bucketRemoveBody=function(e,t,n){var o,a=e.pairs,s=r.id;t.splice(i.indexOf(t,n),1);var l=t.length;for(o=0;o<l;o++){var c=a[s(n,t[o])];c&&(c[2]-=1)}},o._createActivePairsList=function(e){var t,n,o=e.pairs,r=i.keys(o),a=r.length,s=[];for(n=0;n<a;n++)(t=o[r[n]])[2]>0?s.push(t):delete o[r[n]];return s}},function(e,t,n){var o={};e.exports=o;var r=n(3),i=n(7),a=n(14),s=n(5),l=n(13),c=n(10),u=n(6),p=n(0),f=n(1);o.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=a.create(e.render.canvas):t&&t.element?n=a.create(t.element):(n=a.create(),p.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var r={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:c.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},i=p.extend(r,t);return s.on(e,"beforeUpdate",(function(){var t=u.allBodies(e.world);o.update(i,t),o._triggerEvents(i)})),i},o.update=function(e,t){var n=e.mouse,o=e.constraint,a=e.body;if(0===n.button){if(o.bodyB)i.set(o.bodyB,!1),o.pointA=n.position;else for(var c=0;c<t.length;c++)if(a=t[c],f.contains(a.bounds,n.position)&&l.canCollide(a.collisionFilter,e.collisionFilter))for(var u=a.parts.length>1?1:0;u<a.parts.length;u++){var p=a.parts[u];if(r.contains(p.vertices,n.position)){o.pointA=n.position,o.bodyB=e.body=a,o.pointB={x:n.position.x-a.position.x,y:n.position.y-a.position.y},o.angleB=a.angle,i.set(a,!1),s.trigger(e,"startdrag",{mouse:n,body:a});break}}}else o.bodyB=e.body=null,o.pointB=null,a&&s.trigger(e,"enddrag",{mouse:n,body:a})},o._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&s.trigger(e,"mousemove",{mouse:t}),n.mousedown&&s.trigger(e,"mousedown",{mouse:t}),n.mouseup&&s.trigger(e,"mouseup",{mouse:t}),a.clearSourceEvents(t)}},function(e,t,n){var o={};e.exports=o;var r=n(2),i=n(8),a=n(1),s=n(12),l=n(3);o.collides=function(e,t){for(var n=[],o=t.length,r=e.bounds,s=i.collides,l=a.overlaps,c=0;c<o;c++){var u=t[c],p=u.parts.length,f=1===p?0:1;if(l(u.bounds,r))for(var d=f;d<p;d++){var y=u.parts[d];if(l(y.bounds,r)){var g=s(y,e);if(g){n.push(g);break}}}}return n},o.ray=function(e,t,n,i){i=i||1e-100;for(var a=r.angle(t,n),l=r.magnitude(r.sub(t,n)),c=.5*(n.x+t.x),u=.5*(n.y+t.y),p=s.rectangle(c,u,l,i,{angle:a}),f=o.collides(p,e),d=0;d<f.length;d+=1){var y=f[d];y.body=y.bodyB=y.bodyA}return f},o.region=function(e,t,n){for(var o=[],r=0;r<e.length;r++){var i=e[r],s=a.overlaps(i.bounds,t);(s&&!n||!s&&n)&&o.push(i)}return o},o.point=function(e,t){for(var n=[],o=0;o<e.length;o++){var r=e[o];if(a.contains(r.bounds,t))for(var i=1===r.parts.length?0:1;i<r.parts.length;i++){var s=r.parts[i];if(a.contains(s.bounds,t)&&l.contains(s.vertices,t)){n.push(r);break}}}return n}},function(e,t,n){var o={};e.exports=o;var r=n(4),i=n(0),a=n(6),s=n(1),l=n(5),c=n(2),u=n(14);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(i.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o._goodFps=30,o._goodDelta=1e3/60,o.create=function(e){var t={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},n=i.extend(t,e);return n.canvas&&(n.canvas.width=n.options.width||n.canvas.width,n.canvas.height=n.options.height||n.canvas.height),n.mouse=e.mouse,n.engine=e.engine,n.canvas=n.canvas||f(n.options.width,n.options.height),n.context=n.canvas.getContext("2d"),n.textures={},n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}},n.controller=o,n.options.showBroadphase=!1,1!==n.options.pixelRatio&&o.setPixelRatio(n,n.options.pixelRatio),i.isElement(n.element)&&n.element.appendChild(n.canvas),n},o.run=function(t){!function r(i){t.frameRequestId=e(r),n(t,i),o.world(t,i),t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0),(t.options.showStats||t.options.showDebug)&&o.stats(t,t.context,i),(t.options.showPerformance||t.options.showDebug)&&o.performance(t,t.context,i),t.context.setTransform(1,0,0,1,0,0)}()},o.stop=function(e){t(e.frameRequestId)},o.setPixelRatio=function(e,t){var n=e.options,o=e.canvas;"auto"===t&&(t=d(o)),n.pixelRatio=t,o.setAttribute("data-pixel-ratio",t),o.width=n.width*t,o.height=n.height*t,o.style.width=n.width+"px",o.style.height=n.height+"px"},o.setSize=function(e,t,n){e.options.width=t,e.options.height=n,e.bounds.max.x=e.bounds.min.x+t,e.bounds.max.y=e.bounds.min.y+n,1!==e.options.pixelRatio?o.setPixelRatio(e,e.options.pixelRatio):(e.canvas.width=t,e.canvas.height=n)},o.lookAt=function(e,t,n,o){o=void 0===o||o,t=i.isArray(t)?t:[t],n=n||{x:0,y:0};for(var r={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},a=0;a<t.length;a+=1){var s=t[a],l=s.bounds?s.bounds.min:s.min||s.position||s,c=s.bounds?s.bounds.max:s.max||s.position||s;l&&c&&(l.x<r.min.x&&(r.min.x=l.x),c.x>r.max.x&&(r.max.x=c.x),l.y<r.min.y&&(r.min.y=l.y),c.y>r.max.y&&(r.max.y=c.y))}var p=r.max.x-r.min.x+2*n.x,f=r.max.y-r.min.y+2*n.y,d=e.canvas.height,y=e.canvas.width/d,g=p/f,v=1,m=1;g>y?m=g/y:v=y/g,e.options.hasBounds=!0,e.bounds.min.x=r.min.x,e.bounds.max.x=r.min.x+p*v,e.bounds.min.y=r.min.y,e.bounds.max.y=r.min.y+f*m,o&&(e.bounds.min.x+=.5*p-p*v*.5,e.bounds.max.x+=.5*p-p*v*.5,e.bounds.min.y+=.5*f-f*m*.5,e.bounds.max.y+=.5*f-f*m*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),u.setOffset(e.mouse,e.bounds.min))},o.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,o=t/e.options.width,r=n/e.options.height;e.context.setTransform(e.options.pixelRatio/o,0,0,e.options.pixelRatio/r,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},o.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},o.world=function(e,t){var n,r=i.now(),p=e.engine,f=p.world,d=e.canvas,y=e.context,v=e.options,m=e.timing,h=a.allBodies(f),x=a.allConstraints(f),b=v.wireframes?v.wireframeBackground:v.background,w=[],S=[],A={timestamp:p.timing.timestamp};if(l.trigger(e,"beforeRender",A),e.currentBackground!==b&&g(e,b),y.globalCompositeOperation="source-in",y.fillStyle="transparent",y.fillRect(0,0,d.width,d.height),y.globalCompositeOperation="source-over",v.hasBounds){for(n=0;n<h.length;n++){var P=h[n];s.overlaps(P.bounds,e.bounds)&&w.push(P)}for(n=0;n<x.length;n++){var M=x[n],_=M.bodyA,C=M.bodyB,B=M.pointA,k=M.pointB;_&&(B=c.add(_.position,M.pointA)),C&&(k=c.add(C.position,M.pointB)),B&&k&&(s.contains(e.bounds,B)||s.contains(e.bounds,k))&&S.push(M)}o.startViewTransform(e),e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),u.setOffset(e.mouse,e.bounds.min))}else S=x,w=h,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!v.wireframes||p.enableSleeping&&v.showSleeping?o.bodies(e,w,y):(v.showConvexHulls&&o.bodyConvexHulls(e,w,y),o.bodyWireframes(e,w,y)),v.showBounds&&o.bodyBounds(e,w,y),(v.showAxes||v.showAngleIndicator)&&o.bodyAxes(e,w,y),v.showPositions&&o.bodyPositions(e,w,y),v.showVelocity&&o.bodyVelocity(e,w,y),v.showIds&&o.bodyIds(e,w,y),v.showSeparations&&o.separations(e,p.pairs.list,y),v.showCollisions&&o.collisions(e,p.pairs.list,y),v.showVertexNumbers&&o.vertexNumbers(e,w,y),v.showMousePosition&&o.mousePosition(e,e.mouse,y),o.constraints(S,y),v.hasBounds&&o.endViewTransform(e),l.trigger(e,"afterRender",A),m.lastElapsed=i.now()-r},o.stats=function(e,t,n){for(var o=e.engine,r=o.world,i=a.allBodies(r),s=0,l=0,c=0;c<i.length;c+=1)s+=i[c].parts.length;var u={Part:s,Body:i.length,Cons:a.allConstraints(r).length,Comp:a.allComposites(r).length,Pair:o.pairs.list.length};for(var p in t.fillStyle="#0e0f19",t.fillRect(l,0,302.5,44),t.font="12px Arial",t.textBaseline="top",t.textAlign="right",u){var f=u[p];t.fillStyle="#aaa",t.fillText(p,l+55,8),t.fillStyle="#eee",t.fillText(f,l+55,26),l+=55}},o.performance=function(e,t){var n=e.engine,r=e.timing,a=r.deltaHistory,s=r.elapsedHistory,l=r.timestampElapsedHistory,c=r.engineDeltaHistory,u=r.engineUpdatesHistory,f=r.engineElapsedHistory,d=n.timing.lastUpdatesPerFrame,y=n.timing.lastDelta,g=p(a),v=p(s),m=p(c),h=p(u),x=p(f),b=p(l)/g||0,w=Math.round(g/y),S=1e3/g||0,A=60,P=10,M=69;t.fillStyle="#0e0f19",t.fillRect(0,50,442,34),o.status(t,P,M,A,4,a.length,Math.round(S)+" fps",S/o._goodFps,(function(e){return a[e]/g-1})),o.status(t,82,M,A,4,c.length,y.toFixed(2)+" dt",o._goodDelta/y,(function(e){return c[e]/m-1})),o.status(t,154,M,A,4,u.length,d+" upf",Math.pow(i.clamp(h/w||1,0,1),4),(function(e){return u[e]/h-1})),o.status(t,226,M,A,4,f.length,x.toFixed(2)+" ut",1-d*x/o._goodFps,(function(e){return f[e]/x-1})),o.status(t,298,M,A,4,s.length,v.toFixed(2)+" rt",1-v/o._goodFps,(function(e){return s[e]/v-1})),o.status(t,370,M,A,4,l.length,b.toFixed(2)+" x",b*b*b,(function(e){return(l[e]/a[e]/b||0)-1}))},o.status=function(e,t,n,o,r,a,s,l,c){e.strokeStyle="#888",e.fillStyle="#444",e.lineWidth=1,e.fillRect(t,n+7,o,1),e.beginPath(),e.moveTo(t,n+7-r*i.clamp(.4*c(0),-2,2));for(var u=0;u<o;u+=1)e.lineTo(t+u,n+7-(u<a?r*i.clamp(.4*c(u),-2,2):0));e.stroke(),e.fillStyle="hsl("+i.clamp(25+95*l,0,120)+",100%,60%)",e.fillRect(t,n-7,4,4),e.font="12px Arial",e.textBaseline="middle",e.textAlign="right",e.fillStyle="#eee",e.fillText(s,t+o,n-5)},o.constraints=function(e,t){for(var n=t,o=0;o<e.length;o++){var r=e[o];if(r.render.visible&&r.pointA&&r.pointB){var a,s,l=r.bodyA,u=r.bodyB;if(a=l?c.add(l.position,r.pointA):r.pointA,"pin"===r.render.type)n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath();else{if(s=u?c.add(u.position,r.pointB):r.pointB,n.beginPath(),n.moveTo(a.x,a.y),"spring"===r.render.type)for(var p,f=c.sub(s,a),d=c.perp(c.normalise(f)),y=Math.ceil(i.clamp(r.length/5,12,20)),g=1;g<y;g+=1)p=g%2==0?1:-1,n.lineTo(a.x+f.x*(g/y)+d.x*p*4,a.y+f.y*(g/y)+d.y*p*4);n.lineTo(s.x,s.y)}r.render.lineWidth&&(n.lineWidth=r.render.lineWidth,n.strokeStyle=r.render.strokeStyle,n.stroke()),r.render.anchors&&(n.fillStyle=r.render.strokeStyle,n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},o.bodies=function(e,t,n){var o=n;e.engine;var r,i,a,s,l=e.options,c=l.showInternalEdges||!l.wireframes;for(a=0;a<t.length;a++)if((r=t[a]).render.visible)for(s=r.parts.length>1?1:0;s<r.parts.length;s++)if((i=r.parts[s]).render.visible){if(l.showSleeping&&r.isSleeping?o.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(o.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!l.wireframes){var u=i.render.sprite,p=y(e,u.texture);o.translate(i.position.x,i.position.y),o.rotate(i.angle),o.drawImage(p,p.width*-u.xOffset*u.xScale,p.height*-u.yOffset*u.yScale,p.width*u.xScale,p.height*u.yScale),o.rotate(-i.angle),o.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)o.beginPath(),o.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{o.beginPath(),o.moveTo(i.vertices[0].x,i.vertices[0].y);for(var f=1;f<i.vertices.length;f++)!i.vertices[f-1].isInternal||c?o.lineTo(i.vertices[f].x,i.vertices[f].y):o.moveTo(i.vertices[f].x,i.vertices[f].y),i.vertices[f].isInternal&&!c&&o.moveTo(i.vertices[(f+1)%i.vertices.length].x,i.vertices[(f+1)%i.vertices.length].y);o.lineTo(i.vertices[0].x,i.vertices[0].y),o.closePath()}l.wireframes?(o.lineWidth=1,o.strokeStyle=e.options.wireframeStrokeStyle,o.stroke()):(o.fillStyle=i.render.fillStyle,i.render.lineWidth&&(o.lineWidth=i.render.lineWidth,o.strokeStyle=i.render.strokeStyle,o.stroke()),o.fill())}o.globalAlpha=1}},o.bodyWireframes=function(e,t,n){var o,r,i,a,s,l=n,c=e.options.showInternalEdges;for(l.beginPath(),i=0;i<t.length;i++)if((o=t[i]).render.visible)for(s=o.parts.length>1?1:0;s<o.parts.length;s++){for(r=o.parts[s],l.moveTo(r.vertices[0].x,r.vertices[0].y),a=1;a<r.vertices.length;a++)!r.vertices[a-1].isInternal||c?l.lineTo(r.vertices[a].x,r.vertices[a].y):l.moveTo(r.vertices[a].x,r.vertices[a].y),r.vertices[a].isInternal&&!c&&l.moveTo(r.vertices[(a+1)%r.vertices.length].x,r.vertices[(a+1)%r.vertices.length].y);l.lineTo(r.vertices[0].x,r.vertices[0].y)}l.lineWidth=1,l.strokeStyle=e.options.wireframeStrokeStyle,l.stroke()},o.bodyConvexHulls=function(e,t,n){var o,r,i,a=n;for(a.beginPath(),r=0;r<t.length;r++)if((o=t[r]).render.visible&&1!==o.parts.length){for(a.moveTo(o.vertices[0].x,o.vertices[0].y),i=1;i<o.vertices.length;i++)a.lineTo(o.vertices[i].x,o.vertices[i].y);a.lineTo(o.vertices[0].x,o.vertices[0].y)}a.lineWidth=1,a.strokeStyle="rgba(255,255,255,0.2)",a.stroke()},o.vertexNumbers=function(e,t,n){var o,r,i,a=n;for(o=0;o<t.length;o++){var s=t[o].parts;for(i=s.length>1?1:0;i<s.length;i++){var l=s[i];for(r=0;r<l.vertices.length;r++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(o+"_"+r,l.position.x+.8*(l.vertices[r].x-l.position.x),l.position.y+.8*(l.vertices[r].y-l.position.y))}}},o.mousePosition=function(e,t,n){var o=n;o.fillStyle="rgba(255,255,255,0.8)",o.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},o.bodyBounds=function(e,t,n){var o=n;e.engine;var r=e.options;o.beginPath();for(var i=0;i<t.length;i++)if(t[i].render.visible)for(var a=t[i].parts,s=a.length>1?1:0;s<a.length;s++){var l=a[s];o.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}r.wireframes?o.strokeStyle="rgba(255,255,255,0.08)":o.strokeStyle="rgba(0,0,0,0.1)",o.lineWidth=1,o.stroke()},o.bodyAxes=function(e,t,n){var o=n;e.engine;var r,i,a,s,l=e.options;for(o.beginPath(),i=0;i<t.length;i++){var c=t[i],u=c.parts;if(c.render.visible)if(l.showAxes)for(a=u.length>1?1:0;a<u.length;a++)for(r=u[a],s=0;s<r.axes.length;s++){var p=r.axes[s];o.moveTo(r.position.x,r.position.y),o.lineTo(r.position.x+20*p.x,r.position.y+20*p.y)}else for(a=u.length>1?1:0;a<u.length;a++)for(r=u[a],s=0;s<r.axes.length;s++)o.moveTo(r.position.x,r.position.y),o.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}l.wireframes?(o.strokeStyle="indianred",o.lineWidth=1):(o.strokeStyle="rgba(255, 255, 255, 0.4)",o.globalCompositeOperation="overlay",o.lineWidth=2),o.stroke(),o.globalCompositeOperation="source-over"},o.bodyPositions=function(e,t,n){var o=n;e.engine;var r,i,a,s,l=e.options;for(o.beginPath(),a=0;a<t.length;a++)if((r=t[a]).render.visible)for(s=0;s<r.parts.length;s++)i=r.parts[s],o.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),o.closePath();for(l.wireframes?o.fillStyle="indianred":o.fillStyle="rgba(0,0,0,0.5)",o.fill(),o.beginPath(),a=0;a<t.length;a++)(r=t[a]).render.visible&&(o.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),o.closePath());o.fillStyle="rgba(255,165,0,0.8)",o.fill()},o.bodyVelocity=function(e,t,n){var o=n;o.beginPath();for(var i=0;i<t.length;i++){var a=t[i];if(a.render.visible){var s=r.getVelocity(a);o.moveTo(a.position.x,a.position.y),o.lineTo(a.position.x+s.x,a.position.y+s.y)}}o.lineWidth=3,o.strokeStyle="cornflowerblue",o.stroke()},o.bodyIds=function(e,t,n){var o,r,i=n;for(o=0;o<t.length;o++)if(t[o].render.visible){var a=t[o].parts;for(r=a.length>1?1:0;r<a.length;r++){var s=a[r];i.font="12px Arial",i.fillStyle="rgba(255,255,255,0.5)",i.fillText(s.id,s.position.x+10,s.position.y-10)}}},o.collisions=function(e,t,n){var o,r,i,a,s=n,l=e.options;for(s.beginPath(),i=0;i<t.length;i++)if((o=t[i]).isActive)for(r=o.collision,a=0;a<o.contactCount;a++){var c=o.contacts[a].vertex;s.rect(c.x-1.5,c.y-1.5,3.5,3.5)}for(l.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),i=0;i<t.length;i++)if((o=t[i]).isActive&&(r=o.collision,o.contactCount>0)){var u=o.contacts[0].vertex.x,p=o.contacts[0].vertex.y;2===o.contactCount&&(u=(o.contacts[0].vertex.x+o.contacts[1].vertex.x)/2,p=(o.contacts[0].vertex.y+o.contacts[1].vertex.y)/2),r.bodyB===r.supports[0].body||!0===r.bodyA.isStatic?s.moveTo(u-8*r.normal.x,p-8*r.normal.y):s.moveTo(u+8*r.normal.x,p+8*r.normal.y),s.lineTo(u,p)}l.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},o.separations=function(e,t,n){var o,r,i,a,s,l=n,c=e.options;for(l.beginPath(),s=0;s<t.length;s++)if((o=t[s]).isActive){i=(r=o.collision).bodyA;var u=1;(a=r.bodyB).isStatic||i.isStatic||(u=.5),a.isStatic&&(u=0),l.moveTo(a.position.x,a.position.y),l.lineTo(a.position.x-r.penetration.x*u,a.position.y-r.penetration.y*u),u=1,a.isStatic||i.isStatic||(u=.5),i.isStatic&&(u=0),l.moveTo(i.position.x,i.position.y),l.lineTo(i.position.x+r.penetration.x*u,i.position.y+r.penetration.y*u)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},o.inspector=function(e,t){e.engine;var n,o=e.selected,r=e.render,i=r.options;if(i.hasBounds){var a=r.bounds.max.x-r.bounds.min.x,s=r.bounds.max.y-r.bounds.min.y,l=a/r.options.width,c=s/r.options.height;t.scale(1/l,1/c),t.translate(-r.bounds.min.x,-r.bounds.min.y)}for(var u=0;u<o.length;u++){var p=o[u].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),p.type){case"body":n=p.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var f=p.pointA;p.bodyA&&(f=p.pointB),t.beginPath(),t.arc(f.x,f.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),i.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=e.engine,r=e.timing,i=r.historySize,a=n.timing.timestamp;r.delta=t-r.lastTime||o._goodDelta,r.lastTime=t,r.timestampElapsed=a-r.lastTimestamp||0,r.lastTimestamp=a,r.deltaHistory.unshift(r.delta),r.deltaHistory.length=Math.min(r.deltaHistory.length,i),r.engineDeltaHistory.unshift(n.timing.lastDelta),r.engineDeltaHistory.length=Math.min(r.engineDeltaHistory.length,i),r.timestampElapsedHistory.unshift(r.timestampElapsed),r.timestampElapsedHistory.length=Math.min(r.timestampElapsedHistory.length,i),r.engineUpdatesHistory.unshift(n.timing.lastUpdatesPerFrame),r.engineUpdatesHistory.length=Math.min(r.engineUpdatesHistory.length,i),r.engineElapsedHistory.unshift(n.timing.lastElapsed),r.engineElapsedHistory.length=Math.min(r.engineElapsedHistory.length,i),r.elapsedHistory.unshift(r.lastElapsed),r.elapsedHistory.length=Math.min(r.elapsedHistory.length,i)},p=function(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length||0},f=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},d=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},y=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t,n)},g=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},function(e,t,n){var o={};e.exports=o;var r=n(5),i=n(17),a=n(0);!function(){o._maxFrameDelta=1e3/15,o._frameDeltaFallback=1e3/60,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(e){var t=a.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},e);return t.fps=0,t},o.run=function(e,t){return e.timeBuffer=o._frameDeltaFallback,function n(r){e.frameRequestId=o._onNextFrame(e,n),r&&e.enabled&&o.tick(e,t,r)}(),e},o.tick=function(t,n,s){var l=a.now(),c=t.delta,u=0,p=s-t.timeLastTick;if((!p||!t.timeLastTick||p>Math.max(o._maxFrameDelta,t.maxFrameTime))&&(p=t.frameDelta||o._frameDeltaFallback),t.frameDeltaSmoothing){t.frameDeltaHistory.push(p),t.frameDeltaHistory=t.frameDeltaHistory.slice(-t.frameDeltaHistorySize);var f=t.frameDeltaHistory.slice(0).sort(),d=t.frameDeltaHistory.slice(f.length*o._smoothingLowerBound,f.length*o._smoothingUpperBound);p=e(d)||p}t.frameDeltaSnapping&&(p=1e3/Math.round(1e3/p)),t.frameDelta=p,t.timeLastTick=s,t.timeBuffer+=t.frameDelta,t.timeBuffer=a.clamp(t.timeBuffer,0,t.frameDelta+c*o._timeBufferMargin),t.lastUpdatesDeferred=0;var y=t.maxUpdates||Math.ceil(t.maxFrameTime/c),g={timestamp:n.timing.timestamp};r.trigger(t,"beforeTick",g),r.trigger(t,"tick",g);for(var v=a.now();c>0&&t.timeBuffer>=c*o._timeBufferMargin;){r.trigger(t,"beforeUpdate",g),i.update(n,c),r.trigger(t,"afterUpdate",g),t.timeBuffer-=c,u+=1;var m=a.now()-l,h=a.now()-v,x=m+o._elapsedNextEstimate*h/u;if(u>=y||x>t.maxFrameTime){t.lastUpdatesDeferred=Math.round(Math.max(0,t.timeBuffer/c-o._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=u,r.trigger(t,"afterTick",g),t.frameDeltaHistory.length>=100&&(t.lastUpdatesDeferred&&Math.round(t.frameDelta/c)>y?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):t.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==t.isFixed&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(t.deltaMin||t.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==t.fps&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(e){o._cancelNextFrame(e)},o._onNextFrame=function(e,t){if("undefined"==typeof window||!window.requestAnimationFrame)throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId=window.requestAnimationFrame(t),e.frameRequestId},o._cancelNextFrame=function(e){if("undefined"==typeof window||!window.cancelAnimationFrame)throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(e.frameRequestId)};var e=function(e){for(var t=0,n=e.length,o=0;o<n;o+=1)t+=e[o];return t/n||0}}()},function(e,t,n){var o={};e.exports=o;var r=n(8),i=n(0).deprecated;o.collides=function(e,t){return r.collides(e,t)},i(o,"collides","SAT.collides ➤ replaced by Collision.collides")},function(e,t,n){var o={};e.exports=o,n(1);var r=n(0);o.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||r.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,i,a,s,l,c,u,p,f,d,y,g=[],v=0,m=0,h=0;t=t||15;var x=function(e,t,n){var o=n%2==1&&n>1;if(!f||e!=f.x||t!=f.y){f&&o?(d=f.x,y=f.y):(d=0,y=0);var r={x:d+e,y:y+t};!o&&f||(f=r),g.push(r),m=d+e,h=y+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":m=e.x,h=e.y;break;case"H":m=e.x;break;case"V":h=e.y}x(m,h,e.pathSegType)}};for(o._svgPathToAbsolute(e),a=e.getTotalLength(),c=[],n=0;n<e.pathSegList.numberOfItems;n+=1)c.push(e.pathSegList.getItem(n));for(u=c.concat();v<a;){if((l=c[e.getPathSegAtLength(v)])!=p){for(;u.length&&u[0]!=l;)b(u.shift());p=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=e.getPointAtLength(v),x(s.x,s.y,0)}v+=t}for(n=0,i=u.length;n<i;++n)b(u[n]);return g},o._svgPathToAbsolute=function(e){for(var t,n,o,r,i,a,s=e.pathSegList,l=0,c=0,u=s.numberOfItems,p=0;p<u;++p){var f=s.getItem(p),d=f.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d))"x"in f&&(l=f.x),"y"in f&&(c=f.y);else switch("x1"in f&&(o=l+f.x1),"x2"in f&&(i=l+f.x2),"y1"in f&&(r=c+f.y1),"y2"in f&&(a=c+f.y2),"x"in f&&(l+=f.x),"y"in f&&(c+=f.y),d){case"m":s.replaceItem(e.createSVGPathSegMovetoAbs(l,c),p);break;case"l":s.replaceItem(e.createSVGPathSegLinetoAbs(l,c),p);break;case"h":s.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),p);break;case"v":s.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),p);break;case"c":s.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,o,r,i,a),p);break;case"s":s.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,i,a),p);break;case"q":s.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,o,r),p);break;case"t":s.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),p);break;case"a":s.replaceItem(e.createSVGPathSegArcAbs(l,c,f.r1,f.r2,f.angle,f.largeArcFlag,f.sweepFlag),p);break;case"z":case"Z":l=t,c=n}"M"!=d&&"m"!=d||(t=l,n=c)}}},function(e,t,n){var o={};e.exports=o;var r=n(6);n(0),o.create=r.create,o.add=r.add,o.remove=r.remove,o.clear=r.clear,o.addComposite=r.addComposite,o.addBody=r.addBody,o.addConstraint=r.addConstraint}])},matter.exports=e()}();var matterExports=matter.exports;const Matter=getDefaultExportFromCjs(matterExports);var src={decomp:polygonDecomp,quickDecomp:polygonQuickDecomp,isSimple:polygonIsSimple,removeCollinearPoints:polygonRemoveCollinearPoints,removeDuplicatePoints:polygonRemoveDuplicatePoints,makeCCW:polygonMakeCCW};function lineInt(e,t,n){n=n||0;var o,r,i,a,s,l,c,u=[0,0];return o=e[1][1]-e[0][1],r=e[0][0]-e[1][0],i=o*e[0][0]+r*e[0][1],a=t[1][1]-t[0][1],s=t[0][0]-t[1][0],l=a*t[0][0]+s*t[0][1],scalar_eq(c=o*s-a*r,0,n)||(u[0]=(s*i-r*l)/c,u[1]=(o*l-a*i)/c),u}function lineSegmentsIntersect(e,t,n,o){var r=t[0]-e[0],i=t[1]-e[1],a=o[0]-n[0],s=o[1]-n[1];if(a*i-s*r==0)return!1;var l=(r*(n[1]-e[1])+i*(e[0]-n[0]))/(a*i-s*r),c=(a*(e[1]-n[1])+s*(n[0]-e[0]))/(s*r-a*i);return l>=0&&l<=1&&c>=0&&c<=1}function triangleArea(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function isLeft(e,t,n){return triangleArea(e,t,n)>0}function isLeftOn(e,t,n){return triangleArea(e,t,n)>=0}function isRight(e,t,n){return triangleArea(e,t,n)<0}function isRightOn(e,t,n){return triangleArea(e,t,n)<=0}var tmpPoint1=[],tmpPoint2=[];function collinear(e,t,n,o){if(o){var r=tmpPoint1,i=tmpPoint2;r[0]=t[0]-e[0],r[1]=t[1]-e[1],i[0]=n[0]-t[0],i[1]=n[1]-t[1];var a=r[0]*i[0]+r[1]*i[1],s=Math.sqrt(r[0]*r[0]+r[1]*r[1]),l=Math.sqrt(i[0]*i[0]+i[1]*i[1]);return Math.acos(a/(s*l))<o}return 0===triangleArea(e,t,n)}function sqdist(e,t){var n=t[0]-e[0],o=t[1]-e[1];return n*n+o*o}function polygonAt(e,t){var n=e.length;return e[t<0?t%n+n:t%n]}function polygonClear(e){e.length=0}function polygonAppend(e,t,n,o){for(var r=n;r<o;r++)e.push(t[r])}function polygonMakeCCW(e){for(var t=0,n=e,o=1;o<e.length;++o)(n[o][1]<n[t][1]||n[o][1]===n[t][1]&&n[o][0]>n[t][0])&&(t=o);return!isLeft(polygonAt(e,t-1),polygonAt(e,t),polygonAt(e,t+1))&&(polygonReverse(e),!0)}function polygonReverse(e){for(var t=[],n=e.length,o=0;o!==n;o++)t.push(e.pop());for(o=0;o!==n;o++)e[o]=t[o]}function polygonIsReflex(e,t){return isRight(polygonAt(e,t-1),polygonAt(e,t),polygonAt(e,t+1))}var tmpLine1=[],tmpLine2=[];function polygonCanSee(e,t,n){var o,r,i=tmpLine1,a=tmpLine2;if(isLeftOn(polygonAt(e,t+1),polygonAt(e,t),polygonAt(e,n))&&isRightOn(polygonAt(e,t-1),polygonAt(e,t),polygonAt(e,n)))return!1;r=sqdist(polygonAt(e,t),polygonAt(e,n));for(var s=0;s!==e.length;++s)if((s+1)%e.length!==t&&s!==t&&isLeftOn(polygonAt(e,t),polygonAt(e,n),polygonAt(e,s+1))&&isRightOn(polygonAt(e,t),polygonAt(e,n),polygonAt(e,s))&&(i[0]=polygonAt(e,t),i[1]=polygonAt(e,n),a[0]=polygonAt(e,s),a[1]=polygonAt(e,s+1),o=lineInt(i,a),sqdist(polygonAt(e,t),o)<r))return!1;return!0}function polygonCanSee2(e,t,n){for(var o=0;o!==e.length;++o)if(o!==t&&o!==n&&(o+1)%e.length!==t&&(o+1)%e.length!==n&&lineSegmentsIntersect(polygonAt(e,t),polygonAt(e,n),polygonAt(e,o),polygonAt(e,o+1)))return!1;return!0}function polygonCopy(e,t,n,o){var r=o||[];if(polygonClear(r),t<n)for(var i=t;i<=n;i++)r.push(e[i]);else{for(i=0;i<=n;i++)r.push(e[i]);for(i=t;i<e.length;i++)r.push(e[i])}return r}function polygonGetCutEdges(e){for(var t=[],n=[],o=[],r=[],i=Number.MAX_VALUE,a=0;a<e.length;++a)if(polygonIsReflex(e,a))for(var s=0;s<e.length;++s)if(polygonCanSee(e,a,s)){n=polygonGetCutEdges(polygonCopy(e,a,s,r)),o=polygonGetCutEdges(polygonCopy(e,s,a,r));for(var l=0;l<o.length;l++)n.push(o[l]);n.length<i&&(t=n,i=n.length,t.push([polygonAt(e,a),polygonAt(e,s)]))}return t}function polygonDecomp(e){var t=polygonGetCutEdges(e);return t.length>0?polygonSlice(e,t):[e]}function polygonSlice(e,t){if(0===t.length)return[e];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2===t[0].length&&t[0][0]instanceof Array){for(var n=[e],o=0;o<t.length;o++)for(var r=t[o],i=0;i<n.length;i++){var a=polygonSlice(n[i],r);if(a){n.splice(i,1),n.push(a[0],a[1]);break}}return n}r=t,o=e.indexOf(r[0]),i=e.indexOf(r[1]);return-1!==o&&-1!==i&&[polygonCopy(e,o,i),polygonCopy(e,i,o)]}function polygonIsSimple(e){var t,n=e;for(t=0;t<n.length-1;t++)for(var o=0;o<t-1;o++)if(lineSegmentsIntersect(n[t],n[t+1],n[o],n[o+1]))return!1;for(t=1;t<n.length-2;t++)if(lineSegmentsIntersect(n[0],n[n.length-1],n[t],n[t+1]))return!1;return!0}function getIntersectionPoint(e,t,n,o,r){r=r||0;var i=t[1]-e[1],a=e[0]-t[0],s=i*e[0]+a*e[1],l=o[1]-n[1],c=n[0]-o[0],u=l*n[0]+c*n[1],p=i*c-l*a;return scalar_eq(p,0,r)?[0,0]:[(c*s-a*u)/p,(i*u-l*s)/p]}function polygonQuickDecomp(e,t,n,o,r,i,a){i=i||100,a=a||0,r=r||25,t=void 0!==t?t:[],n=n||[],o=o||[];var s=[0,0],l=[0,0],c=[0,0],u=0,p=0,f=0,d=0,y=0,g=0,v=0,m=[],h=[],x=e,b=e;if(b.length<3)return t;if(++a>i)return console.warn("quickDecomp: max level ("+i+") reached."),t;for(var w=0;w<e.length;++w)if(polygonIsReflex(x,w)){n.push(x[w]),u=p=Number.MAX_VALUE;for(var S=0;S<e.length;++S)isLeft(polygonAt(x,w-1),polygonAt(x,w),polygonAt(x,S))&&isRightOn(polygonAt(x,w-1),polygonAt(x,w),polygonAt(x,S-1))&&(c=getIntersectionPoint(polygonAt(x,w-1),polygonAt(x,w),polygonAt(x,S),polygonAt(x,S-1)),isRight(polygonAt(x,w+1),polygonAt(x,w),c)&&(f=sqdist(x[w],c))<p&&(p=f,l=c,g=S)),isLeft(polygonAt(x,w+1),polygonAt(x,w),polygonAt(x,S+1))&&isRightOn(polygonAt(x,w+1),polygonAt(x,w),polygonAt(x,S))&&(c=getIntersectionPoint(polygonAt(x,w+1),polygonAt(x,w),polygonAt(x,S),polygonAt(x,S+1)),isLeft(polygonAt(x,w-1),polygonAt(x,w),c)&&(f=sqdist(x[w],c))<u&&(u=f,s=c,y=S));if(g===(y+1)%e.length)c[0]=(l[0]+s[0])/2,c[1]=(l[1]+s[1])/2,o.push(c),w<y?(polygonAppend(m,x,w,y+1),m.push(c),h.push(c),0!==g&&polygonAppend(h,x,g,x.length),polygonAppend(h,x,0,w+1)):(0!==w&&polygonAppend(m,x,w,x.length),polygonAppend(m,x,0,y+1),m.push(c),h.push(c),polygonAppend(h,x,g,w+1));else{if(g>y&&(y+=e.length),d=Number.MAX_VALUE,y<g)return t;for(S=g;S<=y;++S)isLeftOn(polygonAt(x,w-1),polygonAt(x,w),polygonAt(x,S))&&isRightOn(polygonAt(x,w+1),polygonAt(x,w),polygonAt(x,S))&&(f=sqdist(polygonAt(x,w),polygonAt(x,S)))<d&&polygonCanSee2(x,w,S)&&(d=f,v=S%e.length);w<v?(polygonAppend(m,x,w,v+1),0!==v&&polygonAppend(h,x,v,b.length),polygonAppend(h,x,0,w+1)):(0!==w&&polygonAppend(m,x,w,b.length),polygonAppend(m,x,0,v+1),polygonAppend(h,x,v,w+1))}return m.length<h.length?(polygonQuickDecomp(m,t,n,o,r,i,a),polygonQuickDecomp(h,t,n,o,r,i,a)):(polygonQuickDecomp(h,t,n,o,r,i,a),polygonQuickDecomp(m,t,n,o,r,i,a)),t}return t.push(e),t}function polygonRemoveCollinearPoints(e,t){for(var n=0,o=e.length-1;e.length>3&&o>=0;--o)collinear(polygonAt(e,o-1),polygonAt(e,o),polygonAt(e,o+1),t)&&(e.splice(o%e.length,1),n++);return n}function polygonRemoveDuplicatePoints(e,t){for(var n=e.length-1;n>=1;--n)for(var o=e[n],r=n-1;r>=0;--r)points_eq(o,e[r],t)&&e.splice(n,1)}function scalar_eq(e,t,n){return n=n||0,Math.abs(e-t)<=n}function points_eq(e,t,n){return scalar_eq(e[0],t[0],n)&&scalar_eq(e[1],t[1],n)}const index=getDefaultExportFromCjs(src),polyDecomp=_mergeNamespaces({__proto__:null,default:index},[src]);var handleCanvasResize=function(e,t,n,o){var r=null,i=!1;window.addEventListener("resize",(function(){r&&clearTimeout(r),r=setTimeout((function(){var r=document.querySelectorAll("#".concat(n," canvas"));r.length>0&&!i&&r.forEach((function(e){e.remove()})),i||(e&&(matterExports.Render.stop(e),e.canvas&&(e.canvas.remove(),e.textures={})),t&&(matterExports.Composite.clear(t.world,!0),matterExports.Engine.clear(t)),o(n),i=!0)}),300)}))},handleObjectResize=function(e){var t=e.width,n=e.height,o=window.innerWidth,r=1;return o<1440&&(r=o<900?o/1800*1.5:o/1800),{width:Math.max(t*r,40),height:Math.max(n*r,40)}},handleFooterObjectResize=function(e){var t=e.width,n=e.height,o=window.innerWidth,r=1;return o<900&&(r=o<400?o/1050*1.6:o/900),{width:Math.max(t*r,40),height:Math.max(n*r,40),scaleFactor:r}};function MellengerFooterAnimation(e){var t=Matter.Engine,n=Matter.Render,o=Matter.Runner,r=Matter.Bodies,i=Matter.Events,a=Matter.Composite,s=Matter.Mouse,l=Matter.MouseConstraint,c=Matter.Body;Matter.Common.setDecomp(polyDecomp);var u=t.create({timing:{timeScale:1}});requestAnimationFrame((function e(){t.update(u,12.5),requestAnimationFrame(e)})),u.world.gravity.y=0;var p=document.querySelector("#footer-wrap");if(!p)throw new Error("Container div not found");var f=window.innerWidth,d=p.offsetHeight,y=n.create({element:document.getElementById(e),engine:u,options:{width:f,height:d,wireframes:!1,pixelRatio:2,background:"#0031AF"}}),g=r.rectangle(f/2,d,2*f,2,{isStatic:!0,render:{strokeStyle:"white"}}),v=r.rectangle(f/2,d,2*f,2,{isStatic:!0,render:{fillStyle:"white",strokeStyle:"white"}}),m=r.rectangle(0,d/2,2,2*d,{isStatic:!0,render:{fillStyle:"white",strokeStyle:"white"}}),h=r.rectangle(f,d/2,2,2*d,{isStatic:!0,render:{fillStyle:"white",strokeStyle:"white"}});a.add(u.world,[g,v,m,h]);var x=f/5,b=r.rectangle(f/2,d-x/2,f,x,{restitution:0,friction:1,isStatic:!0,render:{sprite:{texture:"https://cdn.prod.website-files.com/66f46f702cf0b6ef3be0db49/66fc7bf9e82a4f5109989136_Union.svg",xScale:f/1440,yScale:f/1440}}});c.set(b,"collisionFilter",{group:-1,category:2,mask:0});var w=r.fromVertices(.62*f,d-f/100*10.3,[[{x:98.5,y:1},{x:6,y:1},{x:1,y:1},{x:1,y:294.5},{x:1340.5,y:294.5},{x:1340.5,y:284},{x:1340.5,y:148},{x:1340.8276,y:145.0246},{x:1355.9886,y:133.7265},{x:1375.5,y:133},{x:1375.5,y:53},{x:1350.5,y:53},{x:1336.2039,y:58.0475},{x:1322.5897,y:72.5288},{x:1322,y:73.5},{x:1322,y:53},{x:1252,y:53},{x:1252,y:85},{x:1241.7128,y:72.3458},{x:1225.288,y:61.0479},{x:1206.6373,y:53.9201},{x:1187.022,y:50.1135},{x:1168,y:49},{x:1167.0659,y:49.0055},{x:1147.2433,y:51.3679},{x:1128.2505,y:57.5442},{x:1110.8174,y:67.2582},{x:1110.5,y:67.5},{x:1110.5,y:18.5},{x:1062,y:18.5},{x:1059.8995,y:18.5363},{x:1040.8311,y:23.7392},{x:1029.6176,y:39.683},{x:1029,y:49},{x:1018.3843,y:49.1421},{x:998.4222,y:50.309},{x:978.6185,y:53.0508},{x:959.2859,y:58.1053},{x:941.2185,y:66.5844},{x:925.6837,y:79.1132},{x:919.5,y:85},{x:917.3888,y:73.8064},{x:904.7094,y:58.7239},{x:886.3914,y:50.9706},{x:869,y:49},{x:866.5428,y:49.0548},{x:847.0388,y:53.1137},{x:829.2859,y:62.2177},{x:822.5,y:67.5},{x:822.5,y:49},{x:752,y:49},{x:752,y:108},{x:751.2256,y:104.6976},{x:743.0063,y:86.5454},{x:730.1777,y:71.2762},{x:713.8705,y:59.79},{x:695.2733,y:52.551},{x:675.5662,y:49.3203},{x:666.5,y:49},{x:655.587,y:49.4632},{x:635.9174,y:52.9283},{x:617.2923,y:60.1184},{x:600.6088,y:71.0766},{x:586.7202,y:85.4104},{x:576.5089,y:102.546},{x:574.5,y:108},{x:574.5,y:1},{x:425,y:1},{x:425,y:108},{x:422.5659,y:97.6156},{x:413.3261,y:79.9634},{x:399.3592,y:65.7461},{x:382.0012,y:55.9307},{x:362.7725,y:50.5766},{x:343,y:49},{x:342.8583,y:49.0002},{x:322.9421,y:50.577},{x:303.6177,y:55.6128},{x:285.7015,y:64.4173},{x:270.108,y:76.8755},{x:257.6904,y:92.4968},{x:250.5,y:108},{x:250.5,y:1},{x:151.5,y:1},{x:121.5,y:77.5}]],{restitution:0,friction:1,isStatic:!0,render:{fillStyle:"#0031AF"}});c.scale(w,f/1370,f/1370),a.add(u.world,[w,b]);var S={xssq:{width:56,height:56},smsq:{width:80,height:80},mdsq:{width:120,height:120},lgsq:{width:200,height:200},xsrec:{width:80,height:56},smrec:{width:88,height:64},mdrec:{width:200,height:96},lgrec:{width:200,height:120},xlgrec:{width:320,height:200}},A={charcoal:"#1A202C",brightAzure:"#327AE0",skyBlue:"#5BB0FF",lightPeriwinkle:"#BFCCEB",paleSkyBlue:"#ADDAE5",midnightBlue:"#002072"},P=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,p=arguments.length>7?arguments[7]:void 0,f=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,y=arguments.length>10?arguments[10]:void 0,g=handleFooterObjectResize(S[arguments.length>4?arguments[4]:void 0]||{width:120,height:120}),v=g.width,m=g.height,h=g.scaleFactor,x=A[s],b=r.rectangle(n,o,v,m,{density:10,restitution:.1,friction:5,frictionAir:.02,render:{fillStyle:x}});1!=p&&c.scale(b,p,p),a.add(u.world,b),c.setAngle(b,f);var w=r.rectangle(b.position.x,b.position.y,Math.max(40,v/2),20,{restitution:.1,friction:1,isStatic:!0,inertia:1/0,frictionAir:.5,render:{sprite:{texture:String(e?t:M(t,s)),xScale:e?(d||1)*h:.75*h,yScale:e?(y||1)*h:.75*h}},url:l});c.setPosition(w,{x:b.position.x,y:b.position.y});var P=c.nextGroup(!0);return c.set(b,"collisionFilter",{group:P,category:1,mask:65535}),c.set(w,"collisionFilter",{group:P,category:1,mask:65535}),a.add(u.world,w),i.on(u,"beforeUpdate",(function(){c.setPosition(w,{x:b.position.x,y:b.position.y}),c.setAngle(w,b.angle)})),b},M=function(e,t){var n=document.createElement("canvas");n.width=250,n.height=200;var o=n.getContext("2d");if(o)return o.clearRect(0,0,n.width,n.height),o.fillStyle="charcoal"===t||"brightAzure"===t||"midnightBlue"===t?"#fff":"#000",o.font="© 2024 Mellenger Interactive."===e?"lighter 12pt Hanken Grotesk, sans-serif":"lighter 20pt Hanken Grotesk, sans-serif",o.textAlign="center",o.textBaseline="middle",o.fillText(e,n.width/2,n.height/2),n.style.cursor="pointer",n.toDataURL("image/png")};[{hasImage:!1,text:"Services",positionX:.1*f,positionY:-250,size:"lgrec",color:"brightAzure",link:"/services",xScale:0,yScale:0},{hasImage:!1,text:"Our work",positionX:.7*f,positionY:-290,size:"lgsq",color:"skyBlue",link:"/our-work",xScale:0,yScale:0},{hasImage:!1,text:"About",positionX:.3*f,positionY:-250,size:"mdsq",color:"paleSkyBlue",link:"/about-us",xScale:0,yScale:0},{hasImage:!1,text:"Get in touch",positionX:.4*f,positionY:-250,size:"lgrec",color:"charcoal",link:"/contact-us"},{hasImage:!1,text:"Blog",positionX:.5*f,positionY:-250,size:"smsq",color:"brightAzure",link:"/blog",xScale:0,yScale:0},{hasImage:!1,text:"Process",positionX:.2*f,positionY:-250,size:"mdrec",color:"midnightBlue",link:"/services",xScale:0,yScale:0},{hasImage:!1,text:"Privacy Policy",positionX:.6*f,positionY:-250,size:"mdrec",color:"midnightBlue",link:"/privacy-policy",xScale:0,yScale:0},{hasImage:!1,text:"Cookies",positionX:.2*f,positionY:-450,size:"mdsq",color:"skyBlue",link:"/cookie-giveaway",xScale:0,yScale:0},{hasImage:!1,text:"© 2024 Mellenger Interactive.",positionX:f>768?.9*f:.8*f,positionY:.65*d,size:"mdrec",color:"lightPeriwinkle",link:null,xScale:0,yScale:0},{hasImage:!0,text:"https://cdn.prod.website-files.com/66f46f702cf0b6ef3be0db49/66fc829c9758c3e9b1586dae_Social%20icon.svg",positionX:f>768?.9*f:.8*f,positionY:.65*d-100,size:"xssq",color:"midnightBlue",link:"https://www.instagram.com/mellengerinteractive",xScale:1,yScale:1},{hasImage:!0,text:"https://cdn.prod.website-files.com/66f46f702cf0b6ef3be0db49/66fc829c9758c3e9b1586d57_Social%20icon-1.svg",positionX:f>768?.95*f:.6*f,positionY:.65*d-100,size:"xssq",color:"brightAzure",link:"https://ca.linkedin.com/company/mellenger-interactive-ltd",xScale:1,yScale:1}].forEach((function(e){P(e.hasImage,e.text,e.positionX,e.positionY,e.size,e.color,e.link,1,0,e.xScale,e.yScale)}));var _=[{image:"https://mellenger-interactive.github.io/footer-animation/images/andrew.webp"},{image:"https://mellenger-interactive.github.io/footer-animation/images/chino.webp"},{image:"https://mellenger-interactive.github.io/footer-animation/images/codt.webp"},{image:"https://mellenger-interactive.github.io/footer-animation/images/danika.webp"},{image:"https://mellenger-interactive.github.io/footer-animation/images/dawn.webp"},{image:"https://mellenger-interactive.github.io/footer-animation/images/doug.webp"},{image:"https://mellenger-interactive.github.io/footer-animation/images/francois.webp"},{image:"https://mellenger-interactive.github.io/footer-animation/images/megan.webp"},{image:"https://mellenger-interactive.github.io/footer-animation/images/muneeba.webp"},{image:"https://mellenger-interactive.github.io/footer-animation/images/philippe.webp"},{image:"https://mellenger-interactive.github.io/footer-animation/images/scott.webp"}],C=P(!0,"https://mellenger-interactive.github.io/footer-animation/images/wand.webp",.8*f,-250,"medsq","paleSkyBlue",null,1,0,.6,.6),B=[].concat(_);!function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}}(B);var k=0,I=s.create(y.canvas),E=l.create(u,{mouse:I,constraint:{stiffness:.2,render:{visible:!1}}});a.add(u.world,E);var T=E.mouse.mousewheel;T&&E.mouse.element.removeEventListener("wheel",T);var R=E.mouse.mousedown;R&&(E.mouse.element.removeEventListener("touchstart",R),E.mouse.element.addEventListener("touchstart",R,{passive:!0}));var L=E.mouse.mousemove;L&&(E.mouse.element.removeEventListener("touchmove",L),E.mouse.element.addEventListener("touchmove",(function(e){E.body&&L(e)}))),i.on(E,"mousedown",(function(e){var t=e.source,n=u.world.bodies;if(t.body)for(var o=n.length-1;o>=0;o--){var r=n[o];if(Matter.Bounds.contains(r.bounds,t.mouse.position)){var i=_typeof(r.url)?r.url:null;i&&(window.location.href=i);break}}})),window.addEventListener("scroll",(function(){var e=window.scrollY,t=document.body.scrollHeight;e+window.innerHeight>=t-50&&(u.world.gravity.y=1)}),{passive:!0});var D=document.querySelector("#footer-wrap canvas"),F=function(e){var t={x:0,y:0};if(D)if(e instanceof MouseEvent){var n=e,o=D.getBoundingClientRect();t={x:n.clientX-o.left,y:n.clientY-o.top}}else if(e instanceof TouchEvent){var r=e,i=D.getBoundingClientRect(),s=r.changedTouches[0];t={x:s.clientX-i.left,y:s.clientY-i.top}}for(var l,c=a.allBodies(u.world),p=0;p<c.length;p++){var f=c[p];if(Matter.Bounds.contains(f.bounds,t)){l=f;break}}l===C&&k<=_.length&&function(e,t){if(k>=B.length)return null;var n=B[k],o=P(!0,n.image,e,t,"mdsq","paleSkyBlue",null,1,0,.6,.6);k++}(C.position.x,C.position.y)};null==D||D.addEventListener("dblclick",(function(e){return F(e)})),null==D||D.addEventListener("touchend",(function(e){return F(e)}),{passive:!0}),n.run(y);var O=o.create();o.run(O,u),handleCanvasResize(y,u,e,MellengerFooterAnimation)}function peg$subclass(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function peg$SyntaxError(e,t,n,o){this.message=e,this.expected=t,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}function peg$parse(e,t){t=void 0!==t?t:{};var n,o={},r={svg_path:de},i=de,a=function(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t=t.concat.apply(t,e[n]);var o=t[0];return o&&"m"==o.code&&(delete o.relative,o.code="M"),t},s=function(e,t){return function(e,t){if(!t)return[e];for(var n=[e],o=0,r=t.length;o<r;o++)n[o+1]=t[o][1];return n}(e,t)},l=/^[Mm]/,c=ce(["M","m"],!1,!1),u=function(e,t,n){var o=Ve(e,[t]);return n&&(o=o.concat(Ve("M"==e?"L":"l",n[1]))),o},p=/^[Zz]/,f=ce(["Z","z"],!1,!1),d=function(){return Ve("Z")},y=/^[Ll]/,g=ce(["L","l"],!1,!1),v=function(e,t){return Ve(e,t)},m=/^[Hh]/,h=ce(["H","h"],!1,!1),x=function(e,t){return Ve(e,t.map((function(e){return{x:e}})))},b=/^[Vv]/,w=ce(["V","v"],!1,!1),S=function(e,t){return Ve(e,t.map((function(e){return{y:e}})))},A=/^[Cc]/,P=ce(["C","c"],!1,!1),M=function(e,t,n){return{x1:e.x,y1:e.y,x2:t.x,y2:t.y,x:n.x,y:n.y}},_=/^[Ss]/,C=ce(["S","s"],!1,!1),B=function(e,t){return{x2:e.x,y2:e.y,x:t.x,y:t.y}},k=/^[Qq]/,I=ce(["Q","q"],!1,!1),E=function(e,t){return{x1:e.x,y1:e.y,x:t.x,y:t.y}},T=/^[Tt]/,R=ce(["T","t"],!1,!1),L=/^[Aa]/,D=ce(["A","a"],!1,!1),F=function(e,t,n,o,r,i){return{rx:e,ry:t,xAxisRotation:n,largeArc:o,sweep:r,x:i.x,y:i.y}},O=function(e,t){return{x:e,y:t}},V=function(e){return 1*e},q=function(e){return 1*e.join("")},j=/^[01]/,H=ce(["0","1"],!1,!1),G=function(e){return"1"==e},U=function(){return""},W=",",z=le(",",!1),N=function(e){return e.join("")},X=".",Y=le(".",!1),$=/^[eE]/,Q=ce(["e","E"],!1,!1),Z=/^[+\-]/,J=ce(["+","-"],!1,!1),K=/^[0-9]/,ee=ce([["0","9"]],!1,!1),te=function(e){return e.join("")},ne=/^[ \t\n\r]/,oe=ce([" ","\t","\n","\r"],!1,!1),re=0,ie=[{line:1,column:1}],ae=0,se=[];if("startRule"in t){if(!(t.startRule in r))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=r[t.startRule]}function le(e,t){return{type:"literal",text:e,ignoreCase:t}}function ce(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function ue(t){var n,o=ie[t];if(o)return o;for(n=t-1;!ie[n];)n--;for(o={line:(o=ie[n]).line,column:o.column};n<t;)10===e.charCodeAt(n)?(o.line++,o.column=1):o.column++,n++;return ie[t]=o,o}function pe(e,t){var n=ue(e),o=ue(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:o.line,column:o.column}}}function fe(e){re<ae||(re>ae&&(ae=re,se=[]),se.push(e))}function de(){var e,t,n,r,i;for(e=re,t=[],n=Te();n!==o;)t.push(n),n=Te();if(t!==o)if(n=function(){var e,t,n,r,i,a;if(e=re,t=ye(),t!==o){for(n=[],r=re,i=[],a=Te();a!==o;)i.push(a),a=Te();for(i!==o&&(a=ye())!==o?r=i=[i,a]:(re=r,r=o);r!==o;){for(n.push(r),r=re,i=[],a=Te();a!==o;)i.push(a),a=Te();i!==o&&(a=ye())!==o?r=i=[i,a]:(re=r,r=o)}n!==o?e=t=s(t,n):(re=e,e=o)}else re=e,e=o;return e}(),n===o&&(n=null),n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o?e=t=a(n):(re=e,e=o)}else re=e,e=o;else re=e,e=o;return e}function ye(){var t,n,r,i,a,p;if(t=re,n=function(){var t,n,r,i,a,s,p;t=re,l.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(c));if(n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o&&(i=Se())!==o?(a=re,(s=_e())===o&&(s=null),s!==o&&(p=ve())!==o?a=s=[s,p]:(re=a,a=o),a===o&&(a=null),a!==o?t=n=u(n,i,a):(re=t,t=o)):(re=t,t=o)}else re=t,t=o;return t}(),n!==o){for(r=[],i=re,a=[],p=Te();p!==o;)a.push(p),p=Te();for(a!==o&&(p=ge())!==o?i=a=[a,p]:(re=i,i=o);i!==o;){for(r.push(i),i=re,a=[],p=Te();p!==o;)a.push(p),p=Te();a!==o&&(p=ge())!==o?i=a=[a,p]:(re=i,i=o)}r!==o?t=n=s(n,r):(re=t,t=o)}else re=t,t=o;return t}function ge(){var t;return(t=function(){var t,n;t=re,p.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(f));n!==o&&(n=d());return t=n,t}())===o&&(t=function(){var t,n,r,i;t=re,y.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(g));if(n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o&&(i=ve())!==o?t=n=v(n,i):(re=t,t=o)}else re=t,t=o;return t}())===o&&(t=function(){var t,n,r,i;t=re,m.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(h));if(n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o&&(i=me())!==o?t=n=x(n,i):(re=t,t=o)}else re=t,t=o;return t}())===o&&(t=function(){var t,n,r,i;t=re,b.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(w));if(n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o&&(i=me())!==o?t=n=S(n,i):(re=t,t=o)}else re=t,t=o;return t}())===o&&(t=function(){var t,n,r,i;t=re,A.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(P));if(n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o?(i=function(){var e,t,n,r,i,a;if(e=re,t=he(),t!==o){for(n=[],r=re,(i=_e())===o&&(i=null),i!==o&&(a=he())!==o?r=i=[i,a]:(re=r,r=o);r!==o;)n.push(r),r=re,(i=_e())===o&&(i=null),i!==o&&(a=he())!==o?r=i=[i,a]:(re=r,r=o);n!==o?e=t=s(t,n):(re=e,e=o)}else re=e,e=o;return e}(),i!==o?t=n=v(n,i):(re=t,t=o)):(re=t,t=o)}else re=t,t=o;return t}())===o&&(t=function(){var t,n,r,i;t=re,_.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(C));if(n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o?(i=function(){var e,t,n,r,i,a;if(e=re,t=xe(),t!==o){for(n=[],r=re,(i=_e())===o&&(i=null),i!==o&&(a=xe())!==o?r=i=[i,a]:(re=r,r=o);r!==o;)n.push(r),r=re,(i=_e())===o&&(i=null),i!==o&&(a=xe())!==o?r=i=[i,a]:(re=r,r=o);n!==o?e=t=s(t,n):(re=e,e=o)}else re=e,e=o;return e}(),i!==o?t=n=v(n,i):(re=t,t=o)):(re=t,t=o)}else re=t,t=o;return t}())===o&&(t=function(){var t,n,r,i;t=re,k.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(I));if(n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o?(i=function(){var e,t,n,r,i,a;if(e=re,t=be(),t!==o){for(n=[],r=re,(i=_e())===o&&(i=null),i!==o&&(a=be())!==o?r=i=[i,a]:(re=r,r=o);r!==o;)n.push(r),r=re,(i=_e())===o&&(i=null),i!==o&&(a=be())!==o?r=i=[i,a]:(re=r,r=o);n!==o?e=t=s(t,n):(re=e,e=o)}else re=e,e=o;return e}(),i!==o?t=n=v(n,i):(re=t,t=o)):(re=t,t=o)}else re=t,t=o;return t}())===o&&(t=function(){var t,n,r,i;t=re,T.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(R));if(n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o?(i=function(){var e,t,n,r,i,a;if(e=re,t=Se(),t!==o){for(n=[],r=re,(i=_e())===o&&(i=null),i!==o&&(a=Se())!==o?r=i=[i,a]:(re=r,r=o);r!==o;)n.push(r),r=re,(i=_e())===o&&(i=null),i!==o&&(a=Se())!==o?r=i=[i,a]:(re=r,r=o);n!==o?e=t=s(t,n):(re=e,e=o)}else re=e,e=o;return e}(),i!==o?t=n=v(n,i):(re=t,t=o)):(re=t,t=o)}else re=t,t=o;return t}())===o&&(t=function(){var t,n,r,i;t=re,L.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(D));if(n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o?(i=function(){var e,t,n,r,i,a;if(e=re,t=we(),t!==o){for(n=[],r=re,(i=_e())===o&&(i=null),i!==o&&(a=we())!==o?r=i=[i,a]:(re=r,r=o);r!==o;)n.push(r),r=re,(i=_e())===o&&(i=null),i!==o&&(a=we())!==o?r=i=[i,a]:(re=r,r=o);n!==o?e=t=s(t,n):(re=e,e=o)}else re=e,e=o;return e}(),i!==o?t=n=v(n,i):(re=t,t=o)):(re=t,t=o)}else re=t,t=o;return t}()),t}function ve(){var e,t,n,r,i,a;if(e=re,(t=Se())!==o){for(n=[],r=re,(i=_e())===o&&(i=null),i!==o&&(a=Se())!==o?r=i=[i,a]:(re=r,r=o);r!==o;)n.push(r),r=re,(i=_e())===o&&(i=null),i!==o&&(a=Se())!==o?r=i=[i,a]:(re=r,r=o);n!==o?e=t=s(t,n):(re=e,e=o)}else re=e,e=o;return e}function me(){var e,t,n,r,i,a;if(e=re,(t=Pe())!==o){for(n=[],r=re,(i=_e())===o&&(i=null),i!==o&&(a=Pe())!==o?r=i=[i,a]:(re=r,r=o);r!==o;)n.push(r),r=re,(i=_e())===o&&(i=null),i!==o&&(a=Pe())!==o?r=i=[i,a]:(re=r,r=o);n!==o?e=t=s(t,n):(re=e,e=o)}else re=e,e=o;return e}function he(){var e,t,n,r,i,a;return e=re,(t=Se())!==o?((n=_e())===o&&(n=null),n!==o&&(r=Se())!==o?((i=_e())===o&&(i=null),i!==o&&(a=Se())!==o?e=t=M(t,r,a):(re=e,e=o)):(re=e,e=o)):(re=e,e=o),e}function xe(){var e,t,n,r;return e=re,(t=Se())!==o?((n=_e())===o&&(n=null),n!==o&&(r=Se())!==o?e=t=B(t,r):(re=e,e=o)):(re=e,e=o),e}function be(){var e,t,n,r;return e=re,(t=Se())!==o?((n=_e())===o&&(n=null),n!==o&&(r=Se())!==o?e=t=E(t,r):(re=e,e=o)):(re=e,e=o),e}function we(){var e,t,n,r,i,a,s,l,c,u,p;return e=re,(t=Ae())!==o?((n=_e())===o&&(n=null),n!==o&&(r=Ae())!==o?((i=_e())===o&&(i=null),i!==o&&(a=Pe())!==o&&_e()!==o&&(s=Me())!==o?((l=_e())===o&&(l=null),l!==o&&(c=Me())!==o?((u=_e())===o&&(u=null),u!==o&&(p=Se())!==o?e=t=F(t,r,a,s,c,p):(re=e,e=o)):(re=e,e=o)):(re=e,e=o)):(re=e,e=o)):(re=e,e=o),e}function Se(){var e,t,n,r;return e=re,(t=Pe())!==o?((n=_e())===o&&(n=null),n!==o&&(r=Pe())!==o?e=t=O(t,r):(re=e,e=o)):(re=e,e=o),e}function Ae(){var e;return(e=Be())===o&&(e=Ee()),e!==o&&(e=V(e)),e}function Pe(){var e,t,n;return e=re,(t=Ie())===o&&(t=null),t!==o&&(n=Be())!==o?e=t=[t,n]:(re=e,e=o),e===o&&(e=re,(t=Ie())===o&&(t=null),t!==o&&(n=Ee())!==o?e=t=[t,n]:(re=e,e=o)),e!==o&&(e=q(e)),e}function Me(){var t;return j.test(e.charAt(re))?(t=e.charAt(re),re++):(t=o,fe(H)),t!==o&&(t=G(t)),t}function _e(){var e,t,n,r,i;if(e=re,t=[],(n=Te())!==o)for(;n!==o;)t.push(n),n=Te();else t=o;if(t!==o)if((n=Ce())===o&&(n=null),n!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o?e=t=[t,n,r]:(re=e,e=o)}else re=e,e=o;else re=e,e=o;if(e===o){if(e=re,t=re,(n=Ce())!==o){for(r=[],i=Te();i!==o;)r.push(i),i=Te();r!==o?t=n=[n,r]:(re=t,t=o)}else re=t,t=o;t!==o&&(t=U()),e=t}return e}function Ce(){var t;return 44===e.charCodeAt(re)?(t=W,re++):(t=o,fe(z)),t}function Be(){var t,n,r;return t=re,n=function(){var t,n,r,i,a;t=re,n=re,r=Ee(),r===o&&(r=null);r!==o?(46===e.charCodeAt(re)?(i=X,re++):(i=o,fe(Y)),i!==o&&(a=Ee())!==o?n=r=[r,i,a]:(re=n,n=o)):(re=n,n=o);n===o&&(n=re,(r=Ee())!==o?(46===e.charCodeAt(re)?(i=X,re++):(i=o,fe(Y)),i!==o?n=r=[r,i]:(re=n,n=o)):(re=n,n=o));n!==o&&(n=N(n));return t=n,t}(),n!==o?((r=ke())===o&&(r=null),r!==o?t=n=[n,r]:(re=t,t=o)):(re=t,t=o),t===o&&(t=re,(n=Ee())!==o&&(r=ke())!==o?t=n=[n,r]:(re=t,t=o)),t!==o&&(t=N(t)),t}function ke(){var t,n,r,i;return t=re,$.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(Q)),n!==o?((r=Ie())===o&&(r=null),r!==o&&(i=Ee())!==o?t=n=[n,r,i]:(re=t,t=o)):(re=t,t=o),t!==o&&(t=N(t)),t}function Ie(){var t;return Z.test(e.charAt(re))?(t=e.charAt(re),re++):(t=o,fe(J)),t}function Ee(){var t,n;if(t=[],K.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(ee)),n!==o)for(;n!==o;)t.push(n),K.test(e.charAt(re))?(n=e.charAt(re),re++):(n=o,fe(ee));else t=o;return t!==o&&(t=te(t)),t}function Te(){var t;return ne.test(e.charAt(re))?(t=e.charAt(re),re++):(t=o,fe(oe)),t!==o&&(t=U()),t}var Re,Le,De,Fe={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var Oe in Fe)Fe[Oe.toUpperCase()]=Fe[Oe];function Ve(e,t){t||(t=[{}]);for(var n=t.length;n--;){var o={code:e,command:Fe[e]};for(var r in e==e.toLowerCase()&&(o.relative=!0),t[n])o[r]=t[n][r];t[n]=o}return t}if((n=i())!==o&&re===e.length)return n;throw n!==o&&re<e.length&&fe({type:"end"}),Re=se,Le=ae<e.length?e.charAt(ae):null,De=ae<e.length?pe(ae,ae+1):pe(ae,ae),new peg$SyntaxError(peg$SyntaxError.buildMessage(Re,Le),Re,Le,De)}peg$subclass(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(e,t){var n={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function o(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+o(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+o(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+o(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+o(e)}))}return"Expected "+function(e){var t,o,r,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(r=e[t],n[r.type](r));if(i.sort(),i.length>0){for(t=1,o=1;t<i.length;t++)i[t-1]!==i[t]&&(i[o]=i[t],o++);i.length=o}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+r(e)+'"':"end of input"}(t)+" found."};var parser={SyntaxError:peg$SyntaxError,parse:peg$parse},parserFunction=parser.parse;parserFunction.parseSVG=parserFunction,parserFunction.makeAbsolute=makeSVGPathCommandsAbsolute;var svgPathParser=parserFunction;function makeSVGPathCommandsAbsolute(e){var t,n={x:0,y:0},o={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return e.forEach((function(e){for(var r in"moveto"===e.command&&(t=e),e.x0=n.x,e.y0=n.y,o)r in e&&(e[r]+=e.relative?e[o[r]]:0);"x"in e||(e.x=n.x),"y"in e||(e.y=n.y),e.relative=!1,e.code=e.code.toUpperCase(),"closepath"==e.command&&(e.x=t.x,e.y=t.y),n=e})),e}function MellengerHomePageAnimation(e){var t=Matter.Engine,n=Matter.Render,o=Matter.Runner,r=Matter.Bodies,i=Matter.Composite;Matter.Common.setDecomp(polyDecomp);var a=t.create({timing:{timeScale:.2}});a.world.gravity.y=0;var s=document.querySelector("#hp-hero-bg");if(!s)throw new Error("Container div not found");var l=window.innerWidth,c=s.offsetHeight,u=n.create({element:document.getElementById(e),engine:a,options:{width:l,height:c,wireframes:!1,pixelRatio:2,background:"#0031AF"}}),p=null;if("undefined"!=typeof fetch){var f=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:return o=e.sent,e.abrupt("return",(new window.DOMParser).parseFromString(o,"image/svg+xml"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();f("https://mellenger-interactive.github.io/footer-animation/images/HomeBG_Bottom_SVG.svg").then((function(e){var t=function(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))}(e,"path")[0];if(!(t&&t instanceof SVGPathElement))throw new Error("No path found in svg file");var n=t.getAttribute("d");if(!n)throw new Error('SVG path has no "d" attribute');var o=svgPathParser.parseSVG(n),s=[],u=[];o.forEach((function(e){"M"===e.code&&u.length>0&&(s.push(u),u=[]),"M"!==e.code&&"L"!==e.code||u.push({x:e.x,y:e.y}),"H"===e.code&&u.push({x:e.x,y:u[u.length-1].y}),"V"===e.code&&u.push({x:u[u.length-1].x,y:e.y}),"Z"===e.code&&(s.push(u),u=[])}));var f=s[2],d=Math.min.apply(Math,_toConsumableArray(f.map((function(e){return e.x})))),y=Math.max.apply(Math,_toConsumableArray(f.map((function(e){return e.x})))),g=l/(y-d),v=f.map((function(e){return{x:(e.x-d)*g,y:e.y*g}})),m=Matter.Bounds.create(v),h=m.max.y-m.min.y,x=c-h/3.55;p=r.fromVertices(l/2.29,x,v,{isStatic:!0,restitution:1,render:{fillStyle:"#F8FAF5",strokeStyle:"#F8FAF5",lineWidth:1},collisionFilter:{mask:1},label:"Terrain"}),i.add(a.world,p)}))}var d=function(){var e=Matter.Bodies,t={isStatic:!0,render:{fillStyle:"#0031AF",strokeStyle:"#0031AF",lineWidth:4},collisionFilter:{mask:1},label:"Wall"};return[{x:l,y:0,width:1,height:2*c},{x:0,y:0,width:2*l,height:1},{x:0,y:0,width:1,height:2*c}].map((function(n){return e.rectangle(n.x,n.y,n.width,n.height,t)}))}();Matter.Composite.add(a.world,d);var y=["rgba(0, 32, 114, 0.5)","rgba(46, 55, 72, 0.5333)","rgba(91, 176, 255, 0.50196)","rgba(26, 32, 44, 0.50196)","rgba(173, 218, 229, 0.50196)"],g=[];[{width:400,height:200},{width:200,height:200},{width:400,height:400},{width:120,height:120},{width:120,height:200}].forEach((function(e,t){var n=y[t],o=function(e,t){var n=Math.random()*(l-e.width),o=Math.random()*(c-e.height),r=Matter.Bodies.rectangle(n,o,e.width,e.height,{restitution:1,friction:0,frictionAir:0,render:{fillStyle:t}});return i.add(a.world,r),Matter.Body.setInertia(r,1/0),r}(handleObjectResize(e),n),r=1/(e.width*e.height)*1e3*(Math.random()<.5?-1:1);Matter.Body.setAngularVelocity(o,r),g.push(o)}));g.forEach((function(e){var t=Math.random()*Math.PI*2;Matter.Body.setVelocity(e,{x:2*Math.sin(t),y:2*Math.cos(t)})}));var v=function(e){if(Math.abs(e.speed-2)>.2){var t=2/e.speed;Matter.Body.setVelocity(e,{x:e.velocity.x*t,y:e.velocity.y*t})}};Matter.Events.on(a,"collisionStart",(function(e){e.pairs.forEach((function(e){var t=e.bodyA,n=e.bodyB,o=e.collision,r=g.some((function(e){return e===t})),i=g.some((function(e){return e===n}));if(r||i){var a=r?t:n,s=r?n:t;"Wall"===s.label?function(e,t){t===d[0]||t===d[2]?Matter.Body.setVelocity(e,{x:e.velocity.x,y:-e.velocity.y}):t!==d[1]&&t!==d[3]||Matter.Body.setVelocity(e,{x:-e.velocity.x,y:e.velocity.y})}(a,s):"Terrain"===s.label&&function(e,t){var n=t.normal||{x:0,y:0},o={x:e.velocity.x*(n.x<0?-1:1),y:e.velocity.y*(n.y<0?-1:1)};Matter.Body.setVelocity(e,o),v(e)}(a,o)}}))})),Matter.Events.on(a,"beforeUpdate",(function(){g.forEach((function(e){v(e)}))})),n.run(u);var m=o.create();o.run(m,a),handleCanvasResize(u,a,e,MellengerHomePageAnimation)}window.addEventListener("DOMContentLoaded",(function(){document.getElementById("hp-hero-bg")&&MellengerHomePageAnimation("hp-hero-bg"),document.getElementById("footer-wrap")&&MellengerFooterAnimation("footer-wrap")}));